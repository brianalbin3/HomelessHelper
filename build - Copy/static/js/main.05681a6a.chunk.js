(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},135:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(0),s=a.n(n),c=a(14),i=a.n(c),o=(a(110),a(16)),l=a(17),h=a(8),d=a(9),u=a(11),p=a(10),j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsx)("h1",{children:"ContactSettings"})}}]),a}(s.a.Component),m=a(182),b=a(186),O=a(151),v=a(66),N=a.n(v),x=a(90),f=a.n(x),E=a(91),y=a.n(E),g=a(89),C=a.n(g),T=a(88),R=a.n(T),S=(a(111),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"app-bar-container",children:Object(r.jsx)(m.a,{position:"static",children:Object(r.jsxs)(b.a,{children:[Object(r.jsx)(O.a,{variant:"h6",className:"title"}),Object(r.jsxs)("nav",{children:[Object(r.jsxs)(o.c,{className:"icon-container",to:"/features/medicine",activeClassName:"icon-container-active",children:[Object(r.jsx)(R.a,{className:"icon"}),Object(r.jsx)("div",{className:"icon-description",children:"Medicines"})]}),Object(r.jsxs)(o.c,{className:"icon-container",to:"/features/contactsettings",activeClassName:"icon-container-active",children:[Object(r.jsx)(C.a,{className:"icon"}),Object(r.jsx)("div",{className:"icon-description",children:"Calls"})]}),Object(r.jsxs)(o.c,{className:"icon-container",to:"/features/alarms",activeClassName:"icon-container-active",children:[Object(r.jsx)(f.a,{className:"icon"}),Object(r.jsx)("div",{className:"icon-description",children:"Alarms"})]}),Object(r.jsxs)(o.c,{className:"icon-container",to:"/features/schedule",activeClassName:"icon-container-active",children:[Object(r.jsx)(y.a,{className:"icon"}),Object(r.jsx)("div",{className:"icon-description",children:"Schedule"})]}),Object(r.jsxs)(o.c,{className:"icon-container",to:"/features/accountsettings",activeClassName:"icon-container-active",children:[Object(r.jsx)(N.a,{className:"icon"}),Object(r.jsx)("div",{className:"icon-description",children:"Account"})]})]})]})})})}}]),a}(s.a.Component)),k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(S,{}),Object(r.jsx)("main",{children:this.props.children})]})}}]),a}(s.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsx)("h1",{children:"Medicine"})}}]),a}(s.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsx)("h1",{children:"Alarms"})}}]),a}(s.a.Component),_=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsx)("h1",{children:"Schedule"})}}]),a}(s.a.Component),A=a(187),P=a(35),F=a.n(P),L=a(98),D=function(e,t){return F.a.post("/api/users",{email:e,password:t})},M=function(e,t){return F.a.post("/api/users/login",{email:e,password:t})},V=function(){return!!(new L.a).get("jwt")},H=s.a.createContext(),U=H.Provider,z=H.Consumer,W=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isLoggedIn:V()},e.login=function(){e.setState({isLoggedIn:!0})},e.logout=function(){e.setState({isLoggedIn:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsx)(U,{value:{isLoggedIn:this.state.isLoggedIn,login:this.login,logout:this.logout},children:this.props.children})}}]),a}(n.Component),B=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"handleSubmit",value:function(e){try{F.a.delete("/api/users/logout"),e(),this.props.history.push("/login")}catch(t){console.log("error",t)}}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Account Settings"}),Object(r.jsx)(z,{children:function(t){return Object(r.jsx)(A.a,{onClick:function(a){return e.handleSubmit(t.logout)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Logout"})}})]})}}]),a}(s.a.Component);a(135);var X,Y=function(){return Object(r.jsx)("div",{className:"landing-page-container",children:Object(r.jsxs)("div",{className:"info-box",children:[Object(r.jsx)(O.a,{className:"splash-header",color:"primary",variant:"h1",children:"RoboNurse"}),Object(r.jsx)("div",{className:"description",children:"Never forget to take your medicines again with our medicine reminder calls."}),Object(r.jsx)(o.b,{className:"no-underline",to:"/features/medicine",children:Object(r.jsx)(A.a,{variant:"contained",color:"primary",className:"start-btn",children:"Get Started"})})]})})},Z=a(20),Q=a.n(Z),K=a(24),$=a(15),J=a(192),G=a(188),q=a(54),ee=a(189),te=a(92),ae=a.n(te),re=a(93),ne=a.n(re),se=(a(137),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(h.a)(this,a),(r=t.call(this,e)).togglePasswordMask=function(){r.setState((function(e){return{passwordIsMasked:!e.passwordIsMasked}}))},r.state={passwordIsMasked:!0},r}return Object(d.a)(a,[{key:"getVisibilityIcon",value:function(){return this.state.passwordIsMasked?Object(r.jsx)(ae.a,{color:"primary",onClick:this.togglePasswordMask,className:"clickable-icon"}):Object(r.jsx)(ne.a,{color:"primary",onClick:this.togglePasswordMask,className:"clickable-icon"})}},{key:"render",value:function(){this.props.classes;var e=this.state.passwordIsMasked;return Object(r.jsx)(J.a,Object(q.a)(Object(q.a)({variant:"filled",type:e?"password":"text"},this.props),{},{InputProps:{endAdornment:Object(r.jsx)(ee.a,{position:"end",children:this.getVisibilityIcon()})}}))}}]),a}(n.Component));a(138);!function(e){e[e.BAD_EMAIL_PASSWORD=0]="BAD_EMAIL_PASSWORD",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.ACCOUNT_LOCKED=2]="ACCOUNT_LOCKED",e[e.NONE=3]="NONE"}(X||(X={}));var ce,ie=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(h.a)(this,a),(r=t.call(this,e)).state={email:"",password:"",submitIsTouched:!1,loginFailureType:X.NONE},r.handleEmailChange=r.handleEmailChange.bind(Object($.a)(r)),r.handlePasswordChange=r.handlePasswordChange.bind(Object($.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r}return Object(d.a)(a,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t})}},{key:"emailHasError",value:function(){var e=this.state,t=e.email,a=e.submitIsTouched;return 0===t.length&&a}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"passwordHasError",value:function(){var e=this.state,t=e.password,a=e.submitIsTouched;return 0===t.length&&a}},{key:"hasFormError",value:function(){return this.state.loginFailureType!==X.NONE}},{key:"getFormErrorText",value:function(){return this.state.loginFailureType===X.BAD_EMAIL_PASSWORD?"The password you\u2019ve entered is incorrect.":this.state.loginFailureType===X.INTERNAL_SERVER_ERROR?"Uh-oh! A problem occured. Please refresh the page and try again.":""}},{key:"handleSubmit",value:function(){var e=Object(K.a)(Q.a.mark((function e(t){var a,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,r=a.email,n=a.password,this.setState({submitIsTouched:!0,loginFailureType:X.NONE}),0!==r.length&&0!==n.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,M(r,n);case 7:t(),this.props.history.push("/features/schedule"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),401===e.t0.response.status?"Email or password is incorrect"===e.t0.response.data.message?this.setState({loginFailureType:X.BAD_EMAIL_PASSWORD}):"Account locked"===e.t0.response.data.message?this.setState({loginFailureType:X.ACCOUNT_LOCKED}):console.error("Unknown 401 status code response",e.t0):500===e.t0.response.status?this.setState({loginFailureType:X.INTERNAL_SERVER_ERROR}):console.error("Unhandled error");case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loginFailureType===X.ACCOUNT_LOCKED?Object(r.jsx)(l.a,{to:"/findaccount"}):Object(r.jsx)("div",{className:"auth-page-container",children:Object(r.jsxs)("div",{className:"auth-page",children:[Object(r.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Login to Your Account"}),Object(r.jsxs)("form",{className:"auth-form",children:[Object(r.jsx)(J.a,{onChange:this.handleEmailChange,className:"auth-txt-field",label:"Email",variant:"filled",error:this.emailHasError(),helperText:"Enter your email"}),Object(r.jsx)(se,{onChange:this.handlePasswordChange,inputProps:{maxLength:32},className:"auth-txt-field",error:this.passwordHasError(),helperText:"Enter your password",label:"Password"}),Object(r.jsx)(z,{children:function(t){return Object(r.jsx)(A.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Login"})}}),Object(r.jsx)(G.a,{className:"auth-err ".concat(this.hasFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()}),Object(r.jsxs)("div",{className:"non-important-btns-container",children:[Object(r.jsx)(o.b,{className:"no-underline",to:"/register",children:Object(r.jsx)(A.a,{className:"non-important-btn",color:"primary",children:"Create Account"})}),Object(r.jsx)(o.b,{className:"no-underline",to:"/findaccount",children:Object(r.jsx)(A.a,{className:"non-important-btn",color:"primary",children:"Forgot Password?"})})]})]})]})})}}]),a}(s.a.Component),oe=(a(139),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(h.a)(this,a),(r=t.call(this,e)).state={email:"",password:"",passwordIsTouched:!1,submitIsTouched:!1,emailIsTaken:!1,internalServerError:!1},r.handleEmailChange=r.handleEmailChange.bind(Object($.a)(r)),r.handlePasswordChange=r.handlePasswordChange.bind(Object($.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r}return Object(d.a)(a,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t,emailIsTaken:!1})}},{key:"isValidEmail",value:function(){var e=this.state.email;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"passwordHasCorrectLength",value:function(){var e=this.state.password;return e.length>=8&&e.length<=32}},{key:"passwordIsValid",value:function(){var e=this.state.password;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,32}$/.test(e)}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t,passwordIsTouched:!0})}},{key:"emailHasError",value:function(){var e=this.state.submitIsTouched;return!this.isValidEmail()&&e}},{key:"getEmailHelperText",value:function(){return this.emailHasError()?"Please enter a valid email":this.state.emailIsTaken?"This email is taken, try another.":"Enter your email"}},{key:"passwordHasError",value:function(){var e=this.state.submitIsTouched;return!this.passwordIsValid()&&e}},{key:"getPasswordHelperText",value:function(){return this.passwordHasError()?this.passwordHasCorrectLength()?"Enter between 8 and 32 characters":"Include a letter, number, and special character":"Enter a password"}},{key:"hasInternalServerError",value:function(){return this.state.internalServerError}},{key:"handleSubmit",value:function(){var e=Object(K.a)(Q.a.mark((function e(t){var a,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,r=a.email,n=a.password,this.setState({submitIsTouched:!0,internalServerError:!1}),this.isValidEmail()&&this.passwordIsValid()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,D(r,n);case 7:t(),this.props.history.push("/features/schedule"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),409===e.t0.response.status?this.setState({emailIsTaken:!0}):500===e.t0.response.status?this.setState({internalServerError:!0}):console.error("Unhandled error");case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:"auth-page-container",children:Object(r.jsxs)("div",{className:"auth-page",children:[Object(r.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Create a New Account"}),Object(r.jsxs)("form",{className:"auth-form",children:[Object(r.jsx)(J.a,{onChange:this.handleEmailChange,name:"email",className:"auth-txt-field",label:"Email",variant:"filled",error:this.emailHasError()||this.state.emailIsTaken,helperText:this.getEmailHelperText()}),Object(r.jsx)(se,{inputProps:{maxLength:32},onChange:this.handlePasswordChange,className:"auth-txt-field",label:"Password",error:this.passwordHasError(),helperText:this.getPasswordHelperText()}),Object(r.jsx)(z,{children:function(t){return Object(r.jsx)(A.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Register"})}}),Object(r.jsx)(G.a,{className:"auth-err ".concat(this.hasInternalServerError()?"":"display-none"),error:!0,children:"Uh-oh! A problem occured. Please refresh the page and try again."}),Object(r.jsx)("div",{className:"non-important-btns-container",children:Object(r.jsx)(o.b,{className:"no-underline",to:"/login",children:Object(r.jsx)(A.a,{className:"already-registered-btn non-important-btn",color:"primary",children:"Already Have an Account?"})})})]})]})})}}]),a}(s.a.Component)),le=function(e,t){return F.a.post("/api/users/sendresetcode",{email:e,selectedContactMethod:t})},he=function(e,t){return F.a.get("/api/users/checkresetcode",{params:{email:e,resetCode:t}})},de=function(e,t,a){return F.a.post("/api/users/changepassword",{email:e,password:t,resetCode:a})};a(140);!function(e){e[e.ACCOUNT_NOT_FOUND=0]="ACCOUNT_NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(ce||(ce={}));var ue,pe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(h.a)(this,a),(r=t.call(this,e)).state={contact:"",searchAccountFailureType:ce.NONE,submitIsTouched:!1},r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r.handleContactChange=r.handleContactChange.bind(Object($.a)(r)),r}return Object(d.a)(a,[{key:"handleContactChange",value:function(e){var t=e.target.value;this.setState({contact:t})}},{key:"contactHasError",value:function(){var e=this.state,t=e.submitIsTouched;return 0===e.contact.length&&t}},{key:"handleSubmit",value:function(){var e=Object(K.a)(Q.a.mark((function e(t){var a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.contact,this.setState({submitIsTouched:!0}),0!==a.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,t=a,F.a.get("/api/users/findaccount/".concat(t));case 7:return e.next=9,e.sent.data.contactInformation;case 9:r=e.sent,console.log("contactInfo",r),this.setState({searchAccountFailureType:ce.NONE,submitIsTouched:!1}),this.props.history.push("/pickresetmethod?email=".concat(r.email,"&phone=").concat(r.phone)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),404===e.t0.response.status?this.setState({searchAccountFailureType:ce.ACCOUNT_NOT_FOUND}):500===e.t0.response.status&&this.setState({searchAccountFailureType:ce.INTERNAL_SERVER_ERROR});case 18:case"end":return e.stop()}var t}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"displayFormError",value:function(){return this.state.searchAccountFailureType!==ce.NONE}},{key:"getFormErrorText",value:function(){return this.state.searchAccountFailureType===ce.ACCOUNT_NOT_FOUND?"We couldnt find an account with that contact information.":this.state.searchAccountFailureType===ce.INTERNAL_SERVER_ERROR?"Internal error. Refresh the page.":""}},{key:"render",value:function(){return Object(r.jsx)("div",{className:"auth-page-container",children:Object(r.jsxs)("div",{className:"auth-page",children:[Object(r.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Find Account"}),Object(r.jsxs)("form",{className:"auth-form",children:[Object(r.jsx)(G.a,{className:"forgot-pw-desc",children:"Enter your email or phone number to search for your account."}),Object(r.jsx)(J.a,{onChange:this.handleContactChange,className:"auth-txt-field",label:"Email or Phone",variant:"filled",error:this.contactHasError(),helperText:"Enter your email or phone number"}),Object(r.jsx)(A.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Search"}),Object(r.jsx)(G.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()})]}),Object(r.jsx)("div",{className:"non-important-btns-container",children:Object(r.jsx)(o.b,{className:"no-underline",to:"/login",children:Object(r.jsx)(A.a,{className:"find-email-btn non-important-btn",color:"primary",children:"Cancel"})})})]})})}}]),a}(s.a.Component),je=a(149),me=a(190),be=a(193),Oe=a(43),ve=a.n(Oe);a(143);!function(e){e[e.ACCOUNT_NOT_FOUND=0]="ACCOUNT_NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(ue||(ue={}));var Ne,xe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(h.a)(this,a),r=t.call(this,e);var n="",s="";return ve.a.parse(r.props.location.search,{ignoreQueryPrefix:!0})&&(n=ve.a.parse(r.props.location.search,{ignoreQueryPrefix:!0}).email,s=ve.a.parse(r.props.location.search,{ignoreQueryPrefix:!0}).phone),r.state={email:n,selectedContactMethod:"email",phone:s,pickResetMethodFailureType:ue.NONE},r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r.handleChange=r.handleChange.bind(Object($.a)(r)),r}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({selectedContactMethod:e.target.value})}},{key:"displayFormError",value:function(){return this.state.pickResetMethodFailureType!==ue.NONE}},{key:"getFormErrorText",value:function(){return this.state.pickResetMethodFailureType===ue.ACCOUNT_NOT_FOUND?"We couldnt find that email.":this.state.pickResetMethodFailureType===ue.INTERNAL_SERVER_ERROR?"Internal error. Refresh the page.":""}},{key:"handleSubmit",value:function(){var e=Object(K.a)(Q.a.mark((function e(t){var a,r,n,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.state,r=a.email,n=a.phone,s=a.selectedContactMethod,this.setState({pickResetMethodFailureType:ue.NONE}),e.next=5,le(r,s);case 5:this.props.history.push("/entercode?email=".concat(r,"&phone=").concat(n,"&selectedContactMethod=").concat(s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),404===e.t0.response.status?this.setState({pickResetMethodFailureType:ue.ACCOUNT_NOT_FOUND}):500===e.t0.response.status&&this.setState({pickResetMethodFailureType:ue.INTERNAL_SERVER_ERROR});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.email,a=e.phone,n=Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"contact",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"contact-method",children:"Send Code Via Email"}),Object(r.jsx)("div",{className:"contact-detail",children:this.state.email})]}),Object(r.jsx)("div",{className:"radio-container",children:Object(r.jsx)(be.a,{color:"primary",checked:"email"===this.state.selectedContactMethod,onChange:this.handleChange,value:"email"})})]}),Object(r.jsx)(me.a,{className:"contact-divider"})]}),s=Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"contact",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"contact-method",children:"Send Code Via SMS"}),Object(r.jsx)("div",{className:"contact-detail",children:this.state.phone})]}),Object(r.jsx)("div",{className:"radio-container",children:Object(r.jsx)(be.a,{color:"primary",checked:"phone"===this.state.selectedContactMethod,onChange:this.handleChange,value:"phone"})})]}),Object(r.jsx)(me.a,{className:"contact-divider"})]});return Object(r.jsx)("div",{className:"auth-page-container",children:Object(r.jsxs)("div",{className:"auth-page",children:[Object(r.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Pick Reset Method"}),Object(r.jsxs)("form",{className:"auth-form",children:[Object(r.jsxs)(je.a,{elevation:1,className:"find-account-icon-container",children:[Object(r.jsx)(N.a,{color:"primary",className:"find-account-icon"}),Object(r.jsx)("div",{children:this.state.email})]}),Object(r.jsx)("div",{className:"auth-instructions desktop-only",children:"Select how you would like to recieve the code to reset your password."}),Object(r.jsx)(me.a,{className:"contact-divider"}),t&&n,a&&s,Object(r.jsx)(A.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Send Code"}),Object(r.jsx)(G.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()})]}),Object(r.jsx)("div",{className:"non-important-btns-container",children:Object(r.jsx)(o.b,{className:"no-underline",to:"/findaccount",children:Object(r.jsx)(A.a,{className:"find-email-btn non-important-btn",color:"primary",children:"Not You?"})})})]})})}}]),a}(s.a.Component);a(144);!function(e){e[e.NONE=0]="NONE",e[e.INVALID_PASSCODE=1]="INVALID_PASSCODE",e[e.CODE_EXPIRED=2]="CODE_EXPIRED",e[e.TOO_MANY_ATTEMPTS=3]="TOO_MANY_ATTEMPTS",e[e.INTERNAL_SERVER_ERROR=4]="INTERNAL_SERVER_ERROR",e[e.RESENT_CODE=5]="RESENT_CODE"}(Ne||(Ne={}));var fe,Ee=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(h.a)(this,a),r=t.call(this,e);var n="",s="",c="",i=ve.a.parse(r.props.location.search,{ignoreQueryPrefix:!0});return i&&(n=i.selectedContactMethod,s=i.email,"phone"===n&&(c=i.phone)),r.state={selectedContactMethod:n,email:s,phone:c,submitIsTouched:!1,code:"",enterCodeStatusType:Ne.NONE},r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r.handleCodeChange=r.handleCodeChange.bind(Object($.a)(r)),r.resendCodeClicked=r.resendCodeClicked.bind(Object($.a)(r)),r}return Object(d.a)(a,[{key:"handleCodeChange",value:function(e){var t=e.target.value;this.setState({code:t})}},{key:"getCodeHelperText",value:function(){if(this.displayCodeTextFieldError())return"Code must be 8 digits";var e=this.state.selectedContactMethod;return"Enter the 8 digit code sent to your ".concat(e,".")}},{key:"codeIsValid",value:function(){return 8===this.state.code.length}},{key:"displayCodeTextFieldError",value:function(){var e=this.state,t=e.submitIsTouched;e.code;return!!t&&!this.codeIsValid()}},{key:"handleSubmit",value:function(){var e=Object(K.a)(Q.a.mark((function e(t){var a,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({submitIsTouched:!0}),this.codeIsValid()){e.next=3;break}return e.abrupt("return");case 3:return a=this.state,r=a.email,n=a.code,a.selectedContactMethod,a.phone,e.prev=4,e.next=7,he(r,n);case 7:this.setState({enterCodeStatusType:Ne.NONE}),this.props.history.push("/resetpassword?email=".concat(r,"&code=").concat(n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("error",e.t0),401===e.t0.response.status?"Invalid email/passcode combination"===e.t0.response.data.message?this.setState({enterCodeStatusType:Ne.INVALID_PASSCODE}):"Reset code has expired"===e.t0.response.data.message?this.setState({enterCodeStatusType:Ne.CODE_EXPIRED}):"Too many failed attempts"===e.t0.response.data.message&&this.setState({enterCodeStatusType:Ne.TOO_MANY_ATTEMPTS}):this.setState({enterCodeStatusType:Ne.INTERNAL_SERVER_ERROR});case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"displayFormHelperText",value:function(){return this.state.enterCodeStatusType!==Ne.NONE}},{key:"getFormHelperText",value:function(){var e=this.state,t=e.enterCodeStatusType,a=e.selectedContactMethod,r=e.email,n=e.phone;return t===Ne.INVALID_PASSCODE?"Wrong code, try again.":t===Ne.CODE_EXPIRED?"This code has expired.":t===Ne.TOO_MANY_ATTEMPTS?"Too many failed attempts.":t===Ne.INTERNAL_SERVER_ERROR?"Internal server error. Please refresh the page and try again.":t===Ne.RESENT_CODE?"Another code has been sent to ".concat("email"===a?r:n):""}},{key:"formHelperTextIsError",value:function(){return this.state.enterCodeStatusType!==Ne.RESENT_CODE}},{key:"displayResendCodeLink",value:function(){var e=this.state.enterCodeStatusType;return e===Ne.TOO_MANY_ATTEMPTS||e===Ne.CODE_EXPIRED}},{key:"resendCodeClicked",value:function(){var e=Object(K.a)(Q.a.mark((function e(t){var a,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,r=a.email,n=a.selectedContactMethod,e.prev=1,e.next=4,le(r,n);case 4:this.setState({enterCodeStatusType:Ne.RESENT_CODE}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({enterCodeStatusType:Ne.INTERNAL_SERVER_ERROR});case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.selectedContactMethod,a=e.phone,n=e.email,s="email"===t?n:a;return Object(r.jsx)("div",{className:"auth-page-container",children:Object(r.jsxs)("div",{className:"auth-page",children:[Object(r.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Enter Security Code"}),Object(r.jsxs)("form",{className:"auth-form",children:[Object(r.jsxs)("div",{className:"auth-instructions desktop-only",children:["Please check your ",t," for the 8 digit code that was sent to ",s,"."]}),Object(r.jsx)(J.a,{onChange:this.handleCodeChange,className:"auth-txt-field",label:"########",variant:"filled",helperText:this.getCodeHelperText(),error:this.displayCodeTextFieldError()}),Object(r.jsx)(A.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Enter Code"}),Object(r.jsxs)(G.a,{className:"auth-err ".concat(this.displayFormHelperText()?"":"display-none"),error:this.formHelperTextIsError(),children:[this.getFormHelperText(),Object(r.jsx)("span",{className:"resend-code ".concat(this.displayResendCodeLink()?"":"display-none"),onClick:this.resendCodeClicked,children:"Resend Code?"})]})]}),Object(r.jsx)("div",{className:"non-important-btns-container",children:Object(r.jsx)(o.b,{className:"no-underline",to:"/pickresetmethod?email=".concat(n,"&phone=").concat(a),children:Object(r.jsx)(A.a,{className:"enter-code-btn non-important-btn",color:"primary",children:"Try Another Way"})})})]})})}}]),a}(s.a.Component),ye=a(94),ge=a.n(ye);a(145);!function(e){e[e.PASSWORD_EXPIRED=0]="PASSWORD_EXPIRED",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(fe||(fe={}));var Ce=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(h.a)(this,a),r=t.call(this,e);var n=ve.a.parse(r.props.location.search,{ignoreQueryPrefix:!0}),s="",c="";return n&&(s=n.code,c=n.email),r.state={code:s,email:c,password:"",resetPasswordFailureType:fe.NONE,submitButtonTouched:!1,passwordChangeSuccess:!1},r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r.handlePasswordChange=r.handlePasswordChange.bind(Object($.a)(r)),r}return Object(d.a)(a,[{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"displayPasswordError",value:function(){return!this.passwordIsValid()&&this.state.submitButtonTouched}},{key:"passwordHasCorrectLength",value:function(){var e=this.state.password;return e.length>=8&&e.length<=32}},{key:"passwordHasCorrectCharacters",value:function(){var e=this.state.password;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,32}$/.test(e)}},{key:"passwordIsValid",value:function(){return this.passwordHasCorrectCharacters()&&this.passwordHasCorrectLength()}},{key:"getPasswordHelperText",value:function(){var e=this.state.submitButtonTouched;return!this.passwordHasCorrectLength()&&e?"Enter between 8 and 32 characters":!this.passwordHasCorrectCharacters()&&e?"Include a letter, number, and special character":"Enter your new password"}},{key:"displayFormError",value:function(){return this.state.resetPasswordFailureType!==fe.NONE}},{key:"getFormErrorText",value:function(){var e=this.state.resetPasswordFailureType;return e===fe.PASSWORD_EXPIRED?"This reset code has expired.":e===fe.INTERNAL_SERVER_ERROR?"Internal server error. Please refresh the page and try again.":""}},{key:"handleSubmit",value:function(){var e=Object(K.a)(Q.a.mark((function e(t){var a,r,n,s,c=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,r=a.email,n=a.password,s=a.code,this.setState({submitButtonTouched:!0}),this.passwordIsValid()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,de(r,n,s);case 7:this.setState({resetPasswordFailureType:fe.NONE,passwordChangeSuccess:!0}),t(),setTimeout((function(){c.props.history.push("/features/schedule")}),500),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),401===e.t0.response.status&&"Reset code has expired"===e.t0.response.data.message?(this.setState({resetPasswordFailureType:fe.PASSWORD_EXPIRED}),console.log("error.response.data",e.t0.response.data)):this.setState({resetPasswordFailureType:fe.INTERNAL_SERVER_ERROR});case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.passwordChangeSuccess;return Object(r.jsx)("div",{className:"auth-page-container",children:Object(r.jsxs)("div",{className:"auth-page",children:[Object(r.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Reset Password"}),Object(r.jsxs)("form",{className:"auth-form",children:[Object(r.jsx)("div",{className:"auth-instructions desktop-only",children:"Enter a new password between 8 and 32 characters. Include at least one uppercase letter, lowercase letter, number, and special character. "}),Object(r.jsx)(se,{onChange:this.handlePasswordChange,inputProps:{maxLength:32},className:"auth-txt-field",error:this.displayPasswordError(),helperText:this.getPasswordHelperText(),label:"New Password"}),Object(r.jsx)(z,{children:function(t){return Object(r.jsx)(A.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Change Password"})}}),Object(r.jsx)(G.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:this.displayFormError(),children:this.getFormErrorText()}),Object(r.jsxs)("div",{className:"change-pw-success ".concat(t?"":"display-none"),children:[Object(r.jsx)("div",{className:"change-pw-success-txt",children:"Password Changed"}),Object(r.jsx)(ge.a,{color:"primary"})]})]})]})})}}]),a}(s.a.Component),Te=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.options,n=t.component,s=t.children;return Object(r.jsx)(z,{children:function(t){return t.isLoggedIn?Object(r.jsx)(l.b,Object(q.a)(Object(q.a)({path:e.props.path},a),{},{component:t.isLoggedIn?n:ie,children:s})):Object(r.jsx)(l.a,{to:"/login"})}})}}]),a}(s.a.Component);a(146);var Re=function(){return Object(r.jsx)(o.a,{children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{exact:!0,path:"/register",component:oe}),Object(r.jsx)(l.b,{exact:!0,path:"/login",component:ie}),Object(r.jsx)(l.b,{exact:!0,path:"/findaccount",component:pe}),Object(r.jsx)(l.b,{exact:!0,path:"/pickresetmethod",component:xe}),Object(r.jsx)(l.b,{exact:!0,path:"/entercode",component:Ee}),Object(r.jsx)(l.b,{exact:!0,path:"/resetpassword",component:Ce}),Object(r.jsx)(l.b,{exact:!0,path:"/",component:Y}),Object(r.jsx)(Te,{path:"/features",children:Object(r.jsxs)(k,{children:[Object(r.jsx)(l.b,{path:"/features/medicine",component:w}),Object(r.jsx)(l.b,{path:"/features/contactsettings",component:j}),Object(r.jsx)(l.b,{path:"/features/alarms",component:I}),Object(r.jsx)(l.b,{path:"/features/schedule",component:_}),Object(r.jsx)(l.b,{path:"/features/accountsettings",component:B})]})})]})})},Se=a(191),ke=a(97),we=a(194),Ie=a(96),_e=a.n(Ie),Ae=a(95),Pe=a.n(Ae),Fe=Object(ke.a)({palette:{primary:Pe.a,secondary:_e.a},status:{danger:"red"}}),Le=Fe=Object(we.a)(Fe);i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(W,{children:Object(r.jsx)(Se.a,{theme:Le,children:Object(r.jsx)(Re,{})})})}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.05681a6a.chunk.js.map