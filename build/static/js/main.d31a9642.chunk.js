(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{173:function(e,t,a){},174:function(e,t,a){},180:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a.n(r),i=a(9),c=a.n(i),o=(a(173),a(24)),l=a(25),d=a(12),h=a(13),u=a(15),m=a(14),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Prayer Requests"})}}]),a}(s.a.Component),p=a(253),b=a(218),O=a(81),v=a(97),x=a.n(v),f=a(139),N=a.n(f),g=a(140),E=a.n(g),y=a(96),C=a.n(y),T=a(138),S=a.n(T),k=(a(174),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"app-bar-container",children:Object(n.jsx)(p.a,{position:"static",children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(O.a,{variant:"h6",className:"title"}),Object(n.jsxs)("nav",{children:[Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/schedule",activeClassName:"icon-container-active",children:[Object(n.jsx)(C.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Schedule"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/homelesspeople",activeClassName:"icon-container-active",children:[Object(n.jsx)(S.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Homeless People"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/prayerrequests",activeClassName:"icon-container-active",children:[Object(n.jsx)(N.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Prayer Requests"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/map",activeClassName:"icon-container-active",children:[Object(n.jsx)(E.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Map"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/accountsettings",activeClassName:"icon-container-active",children:[Object(n.jsx)(x.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Account"})]})]})]})})})}}]),a}(s.a.Component)),R=(a(180),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"main-container",children:[Object(n.jsx)(k,{}),Object(n.jsx)("main",{children:this.props.children})]})}}]),a}(s.a.Component)),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Homeless People"})}}]),a}(s.a.Component),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Map of Frederick"})}}]),a}(s.a.Component),I=a(18),_=a.n(I),D=a(26),P=a(11),F=(a(182),a(29)),L=a(112),V=a(261),M=a(147),H=a.n(M),U=a(260),z=a(220),W=a(159),B=a(158),J=a(101),X=a.n(J),Y=a(45),Z=a.n(Y),Q=function(){var e=Object(D.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.get("/api/events"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(D.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("/api/events",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=a(144),$=a(258),G=a(27),ee=a(259),te=a(267),ae=a(111),ne=a.n(ae),re=a(221),se=a(265),ie=(a(200),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={title:"",startTime:null,endTime:null,date:null,successSnackbarOpen:!1,submitPressed:!1,internalServerError:!1},n.handleTitleChange=n.handleTitleChange.bind(Object(P.a)(n)),n.handleStartTimeChange=n.handleStartTimeChange.bind(Object(P.a)(n)),n.handleEndTimeChange=n.handleEndTimeChange.bind(Object(P.a)(n)),n.handleDateChange=n.handleDateChange.bind(Object(P.a)(n)),n.handleCancel=n.handleCancel.bind(Object(P.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handleUndo=n.handleUndo.bind(Object(P.a)(n)),n.handleClose=n.handleClose.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleTitleChange",value:function(e){var t=e.target.value;this.setState({title:t})}},{key:"handleStartTimeChange",value:function(e){this.setState({startTime:e})}},{key:"handleEndTimeChange",value:function(e){this.setState({endTime:e})}},{key:"handleDateChange",value:function(e){this.setState({date:e})}},{key:"handleCancel",value:function(e){this.props.onCancel()}},{key:"titlehasErrorTxt",value:function(){var e=this.state,t=e.title;return e.submitPressed&&!t}},{key:"datehasErrorTxt",value:function(){var e=this.state,t=e.date;return e.submitPressed&&!t}},{key:"startTimehasErrorTxt",value:function(){var e=this.state,t=e.startTime;return e.submitPressed&&!t}},{key:"endTimehasErrorTxt",value:function(){var e=this.state,t=e.endTime;return e.submitPressed&&(!t||!this.endTimeIsValid())}},{key:"endTimeIsValid",value:function(){var e=this.state,t=e.startTime,a=e.endTime;return!(t&&a&&t>a)}},{key:"getEndTimeHelperTxt",value:function(){var e=this.state;e.endTime;return e.submitPressed&&!this.endTimeIsValid()?"End time must be after start time":"What time should the outreach end?"}},{key:"handleSubmit",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n,r,s,i,c,o,l,d,h,u,m,j;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({submitPressed:!0}),a=this.state,n=a.title,r=a.startTime,s=a.endTime,i=a.date,n&&i&&r&&s&&this.endTimeIsValid()){e.next=4;break}return e.abrupt("return");case 4:return c=r.hour,o=r.minute,l=s.hour,d=s.minute,h=i.set({hour:c,minute:o}),u=i.set({hour:l,minute:d}),e.prev=10,e.next=13,q({title:n,start:h.toJSDate(),end:u.toJSDate()});case 13:m=e.sent,(j=m.data).start=F.DateTime.fromISO(j.start).toJSDate(),j.end=F.DateTime.fromISO(j.end).toJSDate(),this.props.onEventAdded(j),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),console.error("brian in error"),500===e.t0.response.status?this.setState({internalServerError:!0}):console.error("Unhandled error");case 24:case"end":return e.stop()}}),e,this,[[10,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUndo",value:function(e){this.setState({successSnackbarOpen:!1})}},{key:"handleClose",value:function(e,t){this.setState({successSnackbarOpen:!1})}},{key:"hasInternalServerError",value:function(){return this.state.internalServerError}},{key:"render",value:function(){var e=this.state,t=e.startTime,a=e.endTime,r=e.date,i=e.successSnackbarOpen;return Object(n.jsxs)("div",{className:"grayout",children:[Object(n.jsxs)("div",{className:"add-event-dialog",children:[Object(n.jsx)("div",{className:"dialog-header",children:Object(n.jsx)(O.a,{className:"dialog-title",variant:"h4",children:"Add Event"})}),Object(n.jsx)("div",{className:"dialog-body",children:Object(n.jsxs)("div",{className:"dialog-form",children:[Object(n.jsx)(W.a,{error:this.titlehasErrorTxt(),onChange:this.handleTitleChange,className:"dialog-txt-field",label:"Title",variant:"filled",helperText:"Enter the title of the outreach event"}),Object(n.jsxs)(G.a,{utils:K.a,children:[Object(n.jsx)(ee.a,{error:this.datehasErrorTxt(),className:"dialog-picker-field",inputVariant:"filled",format:"MM/dd/yyyy",value:r,margin:"normal",label:"Start Date",onChange:this.handleDateChange,helperText:"What date should the outreach be on?",InputProps:{endAdornment:Object(n.jsx)(re.a,{position:"end",children:Object(n.jsx)(C.a,{color:"primary"})})}}),Object(n.jsx)(te.a,{error:this.startTimehasErrorTxt(),className:"dialog-picker-field",inputVariant:"filled",format:"h:mm a",value:t,margin:"normal",label:"Start Time",onChange:this.handleStartTimeChange,helperText:"What time should the outreach start?",InputProps:{endAdornment:Object(n.jsx)(re.a,{position:"end",children:Object(n.jsx)(ne.a,{color:"primary"})})}}),Object(n.jsx)(te.a,{error:this.endTimehasErrorTxt(),className:"dialog-picker-field",inputVariant:"filled",format:"h:mm a",value:a,margin:"normal",label:"End Time",onChange:this.handleEndTimeChange,helperText:this.getEndTimeHelperTxt(),InputProps:{endAdornment:Object(n.jsx)(re.a,{position:"end",children:Object(n.jsx)(ne.a,{color:"primary"})})}})]}),Object(n.jsx)($.a,{className:"".concat(this.hasInternalServerError()?"":"display-none"),error:!0,children:"Uh-oh! A problem occured. Please refresh the page and try again."})]})}),Object(n.jsxs)("div",{className:"dialog-actions",children:[Object(n.jsx)(z.a,{color:"primary",className:"dialog-btn",onClick:this.handleCancel,variant:"contained",size:"medium",children:"Cancel"}),Object(n.jsx)(z.a,{color:"primary",className:"dialog-btn",onClick:this.handleSubmit,variant:"contained",size:"medium",children:"Add"})]})]}),Object(n.jsx)(se.a,{open:i,autoHideDuration:6e3,onClose:this.handleClose,message:"Event Added",action:Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(z.a,{color:"secondary",size:"small",onClick:this.handleUndo,children:"UNDO"}),Object(n.jsx)(B.a,{size:"small","aria-label":"close",color:"secondary",onClick:this.handleClose,children:Object(n.jsx)(X.a,{fontSize:"small"})})]})})]})}}]),a}(s.a.Component)),ce=(a(201),a.p+"static/media/ggchurch.641527ed.png"),oe=a(78),le=a.n(oe),de=a(145),he=a.n(de),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.event,t=(e.id,e.title),a=e.start,r=e.end,s=e.description,i=F.DateTime.fromJSDate(a).toFormat("MMMM dd, h:mm a"),c=F.DateTime.fromJSDate(r).toFormat("h:mm a"),o="".concat(i," - ").concat(c);return Object(n.jsx)("div",{className:"grayout",children:Object(n.jsxs)("div",{className:"view-event-dialog",children:[Object(n.jsxs)("div",{className:"view-dialog-header",children:[Object(n.jsx)("div",{className:"primary-header",children:t}),Object(n.jsx)("div",{className:"secondary-header",children:o})]}),Object(n.jsx)("div",{className:"location-img-container",children:Object(n.jsx)("img",{className:"location-img",src:ce,alt:"greater grace church"})}),Object(n.jsxs)("div",{className:"view-dialog-body",children:[Object(n.jsx)("div",{className:"event-description",children:s}),Object(n.jsxs)("div",{className:"actions-container",children:[Object(n.jsx)(z.a,{className:"delete-event-icon",variant:"outlined",endIcon:Object(n.jsx)(he.a,{color:"primary"}),children:Object(n.jsx)("div",{className:"delete-txt",children:"Delete"})}),Object(n.jsx)(z.a,{className:"edit-event-icon",variant:"outlined",endIcon:Object(n.jsx)(le.a,{color:"primary"}),children:Object(n.jsx)("div",{className:"edit-txt",children:"Edit"})}),Object(n.jsx)(z.a,{className:"close-event-dialog",variant:"outlined",endIcon:Object(n.jsx)(X.a,{color:"primary"}),children:"Done"})]})]})]})})}}]),a}(s.a.Component),me=(a(202),a(146)),je=a.n(me),pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"error-box",children:[Object(n.jsx)(je.a,{color:"error"}),Object(n.jsx)("div",{className:"error-msg",children:this.props.message})]})}}]),a}(s.a.Component),be=(a(203),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={currentEvent:null,addEventDialogOpen:!1,events:[],eventsLoaded:!1,errorLoadingEvents:!1},n.eventClicked=n.eventClicked.bind(Object(P.a)(n)),n.eventAdded=n.eventAdded.bind(Object(P.a)(n)),n.openViewEventDialog=n.openViewEventDialog.bind(Object(P.a)(n)),n.closeViewEventDialog=n.closeViewEventDialog.bind(Object(P.a)(n)),n.openAddEventDialog=n.openAddEventDialog.bind(Object(P.a)(n)),n.closeAddEventDialog=n.closeAddEventDialog.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"componentWillMount",value:function(){var e=Object(D.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadEvents();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadEvents",value:function(){var e=Object(D.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q();case 3:t=e.sent,(a=t.data).forEach((function(e){e.start=F.DateTime.fromISO(e.start).toJSDate(),e.end=F.DateTime.fromISO(e.end).toJSDate()})),this.setState({events:a,eventsLoaded:!0}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error=",e.t0),this.setState({errorLoadingEvents:!0});case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"eventClicked",value:function(e,t){console.log("event",e),console.log("e",t),this.openViewEventDialog(e)}},{key:"openViewEventDialog",value:function(e){this.setState({currentEvent:e})}},{key:"closeViewEventDialog",value:function(e){this.setState({currentEvent:null})}},{key:"openAddEventDialog",value:function(){this.setState({addEventDialogOpen:!0})}},{key:"closeAddEventDialog",value:function(){this.setState({addEventDialogOpen:!1})}},{key:"eventAdded",value:function(e){this.state.events.push(e),this.setState({events:e}),this.closeAddEventDialog()}},{key:"render",value:function(){var e=Object(L.b)(F.DateTime),t=this,a=this.state.events,r=this.state,s=r.currentEvent,i=r.addEventDialogOpen,c=r.eventsLoaded,o=r.errorLoadingEvents;return Object(n.jsx)("div",{className:"page-container",children:Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)(O.a,{className:"page-header",color:"primary",variant:"h3",children:"Upcoming Events"}),c?Object(n.jsx)(L.a,{localizer:e,events:a,style:{height:500},onSelectEvent:t.eventClicked}):null,o?Object(n.jsx)(pe,{message:"Couldn't load events!"}):null,c||o?null:Object(n.jsx)("div",{className:"spinner-container",children:Object(n.jsx)(U.a,{size:"4rem",color:"primary"})}),function(){if(s)return Object(n.jsx)(ue,{event:s})}(),i?Object(n.jsx)(ie,{onEventAdded:t.eventAdded,onCancel:t.closeAddEventDialog}):null,Object(n.jsx)(V.a,{onClick:this.openAddEventDialog,className:"add-event",size:"medium","aria-label":"Add Event",children:Object(n.jsx)(H.a,{color:"primary"})})]})})}}]),a}(s.a.Component)),Oe=a(262),ve=a(154),xe=function(e,t){return Z.a.post("/api/users",{email:e,password:t})},fe=function(e,t){return Z.a.post("/api/users/login",{email:e,password:t})},Ne=function(){return!!(new ve.a).get("jwt")},ge=(a(204),s.a.createContext()),Ee=ge.Provider,ye=ge.Consumer,Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:Ne()},e.login=function(){e.setState({isLoggedIn:!0})},e.logout=function(){e.setState({isLoggedIn:!1})},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)(Ee,{value:{isLoggedIn:this.state.isLoggedIn,login:this.login,logout:this.logout},children:this.props.children})}}]),a}(r.Component),Te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"handleLogout",value:function(e){try{Z.a.delete("/api/users/logout"),e(),this.props.history.push("/login")}catch(t){console.log("error",t)}}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"page-container",children:Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)(O.a,{className:"page-header",color:"primary",variant:"h3",children:"Account Settings"}),Object(n.jsxs)("div",{style:{width:"100%"},children:[Object(n.jsxs)("div",{className:"field-container",children:[Object(n.jsx)("div",{className:"field-name",children:"First Name"}),Object(n.jsx)("div",{className:"field-value",children:"Brian"}),Object(n.jsxs)("div",{className:"edit-field-icon-btn-container",children:[Object(n.jsx)(B.a,{className:"edit-field-icon-btn","aria-label":"edit",disabled:!0,color:"primary",children:Object(n.jsx)(le.a,{className:"edit-field-icon"})}),Object(n.jsx)("div",{className:"edit-label",children:"Change"})]})]}),Object(n.jsx)(Oe.a,{}),Object(n.jsxs)("div",{className:"field-container",children:[Object(n.jsx)("div",{className:"field-name",children:"Last Name"}),Object(n.jsx)("div",{className:"field-value",children:"Albin"}),Object(n.jsxs)("div",{className:"edit-field-icon-btn-container",children:[Object(n.jsx)(B.a,{className:"edit-field-icon-btn","aria-label":"edit",disabled:!0,color:"primary",children:Object(n.jsx)(le.a,{className:"edit-field-icon"})}),Object(n.jsx)("div",{className:"edit-label",children:"Change"})]})]}),Object(n.jsx)(Oe.a,{}),Object(n.jsxs)("div",{className:"field-container",children:[Object(n.jsx)("div",{className:"field-name",children:"Email"}),Object(n.jsx)("div",{className:"field-value",children:"brianalbin3taco@gmail.com"}),Object(n.jsxs)("div",{className:"edit-field-icon-btn-container",children:[Object(n.jsx)(B.a,{className:"edit-field-icon-btn","aria-label":"edit",disabled:!0,color:"primary",children:Object(n.jsx)(le.a,{className:"edit-field-icon"})}),Object(n.jsx)("div",{className:"edit-label",children:"Change"})]})]})]}),Object(n.jsx)(ye,{children:function(t){return Object(n.jsx)(z.a,{onClick:function(a){return e.handleLogout(t.logout)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Logout"})}})]})})}}]),a}(s.a.Component);a(205);var Se,ke=function(){return Object(n.jsx)("div",{className:"landing-page-container",children:Object(n.jsxs)("div",{className:"info-box",children:[Object(n.jsx)(O.a,{className:"splash-header",color:"primary",variant:"h1",children:"Homeless Helper"}),Object(n.jsx)("div",{className:"description",children:"Helping you organize your missionary work for the homeless one page at a time."}),Object(n.jsx)(o.b,{className:"no-underline",to:"/features/schedule",children:Object(n.jsx)(z.a,{variant:"contained",color:"primary",className:"start-btn",children:"Get Started"})})]})})},Re=a(80),we=a(148),Ae=a.n(we),Ie=a(149),_e=a.n(Ie),De=(a(206),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).togglePasswordMask=function(){n.setState((function(e){return{passwordIsMasked:!e.passwordIsMasked}}))},n.state={passwordIsMasked:!0},n}return Object(h.a)(a,[{key:"getVisibilityIcon",value:function(){return this.state.passwordIsMasked?Object(n.jsx)(Ae.a,{color:"primary",onClick:this.togglePasswordMask,className:"clickable-icon"}):Object(n.jsx)(_e.a,{color:"primary",onClick:this.togglePasswordMask,className:"clickable-icon"})}},{key:"render",value:function(){this.props.classes;var e=this.state.passwordIsMasked;return Object(n.jsx)(W.a,Object(Re.a)(Object(Re.a)({variant:"filled",type:e?"password":"text"},this.props),{},{InputProps:{endAdornment:Object(n.jsx)(re.a,{position:"end",children:this.getVisibilityIcon()})}}))}}]),a}(r.Component));a(207);!function(e){e[e.BAD_EMAIL_PASSWORD=0]="BAD_EMAIL_PASSWORD",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.ACCOUNT_LOCKED=2]="ACCOUNT_LOCKED",e[e.NONE=3]="NONE"}(Se||(Se={}));var Pe,Fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",submitIsTouched:!1,loginFailureType:Se.NONE},n.handleEmailChange=n.handleEmailChange.bind(Object(P.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(P.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t})}},{key:"emailHasError",value:function(){var e=this.state,t=e.email,a=e.submitIsTouched;return 0===t.length&&a}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"passwordHasError",value:function(){var e=this.state,t=e.password,a=e.submitIsTouched;return 0===t.length&&a}},{key:"hasFormError",value:function(){return this.state.loginFailureType!==Se.NONE}},{key:"getFormErrorText",value:function(){return this.state.loginFailureType===Se.BAD_EMAIL_PASSWORD?"The password you\u2019ve entered is incorrect.":this.state.loginFailureType===Se.INTERNAL_SERVER_ERROR?"Uh-oh! A problem occured. Please refresh the page and try again.":""}},{key:"handleSubmit",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.email,r=a.password,this.setState({submitIsTouched:!0,loginFailureType:Se.NONE}),0!==n.length&&0!==r.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,fe(n,r);case 7:t(),this.props.history.push("/features/schedule"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),401===e.t0.response.status?"Email or password is incorrect"===e.t0.response.data.message?this.setState({loginFailureType:Se.BAD_EMAIL_PASSWORD}):"Account locked"===e.t0.response.data.message?this.setState({loginFailureType:Se.ACCOUNT_LOCKED}):console.error("Unknown 401 status code response",e.t0):500===e.t0.response.status?this.setState({loginFailureType:Se.INTERNAL_SERVER_ERROR}):console.error("Unhandled error");case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loginFailureType===Se.ACCOUNT_LOCKED?Object(n.jsx)(l.a,{to:"/findaccount"}):Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Login to Your Account"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)(W.a,{onChange:this.handleEmailChange,className:"auth-txt-field",label:"Email",variant:"filled",error:this.emailHasError(),helperText:"Enter your email"}),Object(n.jsx)(De,{onChange:this.handlePasswordChange,inputProps:{maxLength:32},className:"auth-txt-field",error:this.passwordHasError(),helperText:"Enter your password",label:"Password"}),Object(n.jsx)(ye,{children:function(t){return Object(n.jsx)(z.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Login"})}}),Object(n.jsx)($.a,{className:"auth-err ".concat(this.hasFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()}),Object(n.jsxs)("div",{className:"non-important-btns-container",children:[Object(n.jsx)(o.b,{className:"no-underline",to:"/register",children:Object(n.jsx)(z.a,{className:"non-important-btn",color:"primary",children:"Create Account"})}),Object(n.jsx)(o.b,{className:"no-underline",to:"/findaccount",children:Object(n.jsx)(z.a,{className:"non-important-btn",color:"primary",children:"Forgot Password?"})})]})]})]})})}}]),a}(s.a.Component),Le=(a(208),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",passwordIsTouched:!1,submitIsTouched:!1,emailIsTaken:!1,internalServerError:!1},n.handleEmailChange=n.handleEmailChange.bind(Object(P.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(P.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t,emailIsTaken:!1})}},{key:"isValidEmail",value:function(){var e=this.state.email;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"passwordHasCorrectLength",value:function(){var e=this.state.password;return e.length>=8&&e.length<=32}},{key:"passwordIsValid",value:function(){var e=this.state.password;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,32}$/.test(e)}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t,passwordIsTouched:!0})}},{key:"emailHasError",value:function(){var e=this.state.submitIsTouched;return!this.isValidEmail()&&e}},{key:"getEmailHelperText",value:function(){return this.emailHasError()?"Please enter a valid email":this.state.emailIsTaken?"This email is taken, try another.":"Enter your email"}},{key:"passwordHasError",value:function(){var e=this.state.submitIsTouched;return!this.passwordIsValid()&&e}},{key:"getPasswordHelperText",value:function(){return this.passwordHasError()?this.passwordHasCorrectLength()?"Enter between 8 and 32 characters":"Include a letter, number, and special character":"Enter a password"}},{key:"hasInternalServerError",value:function(){return this.state.internalServerError}},{key:"handleSubmit",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.email,r=a.password,this.setState({submitIsTouched:!0,internalServerError:!1}),this.isValidEmail()&&this.passwordIsValid()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,xe(n,r);case 7:t(),this.props.history.push("/features/schedule"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),409===e.t0.response.status?this.setState({emailIsTaken:!0}):500===e.t0.response.status?this.setState({internalServerError:!0}):console.error("Unhandled error");case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Create a New Account"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)(W.a,{onChange:this.handleEmailChange,name:"email",className:"auth-txt-field",label:"Email",variant:"filled",error:this.emailHasError()||this.state.emailIsTaken,helperText:this.getEmailHelperText()}),Object(n.jsx)(De,{inputProps:{maxLength:32},onChange:this.handlePasswordChange,className:"auth-txt-field",label:"Password",error:this.passwordHasError(),helperText:this.getPasswordHelperText()}),Object(n.jsx)(ye,{children:function(t){return Object(n.jsx)(z.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Register"})}}),Object(n.jsx)($.a,{className:"auth-err ".concat(this.hasInternalServerError()?"":"display-none"),error:!0,children:"Uh-oh! A problem occured. Please refresh the page and try again."}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/login",children:Object(n.jsx)(z.a,{className:"already-registered-btn non-important-btn",color:"primary",children:"Already Have an Account?"})})})]})]})})}}]),a}(s.a.Component)),Ve=function(e,t){return Z.a.post("/api/users/sendresetcode",{email:e,selectedContactMethod:t})},Me=function(e,t){return Z.a.get("/api/users/checkresetcode",{params:{email:e,resetCode:t}})},He=function(e,t,a){return Z.a.post("/api/users/changepassword",{email:e,password:t,resetCode:a})};a(209);!function(e){e[e.ACCOUNT_NOT_FOUND=0]="ACCOUNT_NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(Pe||(Pe={}));var Ue,ze=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={contact:"",searchAccountFailureType:Pe.NONE,submitIsTouched:!1},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handleContactChange=n.handleContactChange.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleContactChange",value:function(e){var t=e.target.value;this.setState({contact:t})}},{key:"contactHasError",value:function(){var e=this.state,t=e.submitIsTouched;return 0===e.contact.length&&t}},{key:"handleSubmit",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.contact,this.setState({submitIsTouched:!0}),0!==a.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,t=a,Z.a.get("/api/users/findaccount/".concat(t));case 7:return e.next=9,e.sent.data.contactInformation;case 9:n=e.sent,console.log("contactInfo",n),this.setState({searchAccountFailureType:Pe.NONE,submitIsTouched:!1}),this.props.history.push("/pickresetmethod?email=".concat(n.email,"&phone=").concat(n.phone)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),404===e.t0.response.status?this.setState({searchAccountFailureType:Pe.ACCOUNT_NOT_FOUND}):500===e.t0.response.status&&this.setState({searchAccountFailureType:Pe.INTERNAL_SERVER_ERROR});case 18:case"end":return e.stop()}var t}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"displayFormError",value:function(){return this.state.searchAccountFailureType!==Pe.NONE}},{key:"getFormErrorText",value:function(){return this.state.searchAccountFailureType===Pe.ACCOUNT_NOT_FOUND?"We couldnt find an account with that contact information.":this.state.searchAccountFailureType===Pe.INTERNAL_SERVER_ERROR?"Internal error. Refresh the page.":""}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Find Account"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)($.a,{className:"forgot-pw-desc",children:"Enter your email or phone number to search for your account."}),Object(n.jsx)(W.a,{onChange:this.handleContactChange,className:"auth-txt-field",label:"Email or Phone",variant:"filled",error:this.contactHasError(),helperText:"Enter your email or phone number"}),Object(n.jsx)(z.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Search"}),Object(n.jsx)($.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()})]}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/login",children:Object(n.jsx)(z.a,{className:"find-email-btn non-important-btn",color:"primary",children:"Cancel"})})})]})})}}]),a}(s.a.Component),We=a(155),Be=a(264),Je=a(65),Xe=a.n(Je);a(212);!function(e){e[e.ACCOUNT_NOT_FOUND=0]="ACCOUNT_NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(Ue||(Ue={}));var Ye,Ze=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(d.a)(this,a),n=t.call(this,e);var r="",s="";return Xe.a.parse(n.props.location.search,{ignoreQueryPrefix:!0})&&(r=Xe.a.parse(n.props.location.search,{ignoreQueryPrefix:!0}).email,s=Xe.a.parse(n.props.location.search,{ignoreQueryPrefix:!0}).phone),n.state={email:r,selectedContactMethod:"email",phone:s,pickResetMethodFailureType:Ue.NONE},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handleChange=n.handleChange.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){this.setState({selectedContactMethod:e.target.value})}},{key:"displayFormError",value:function(){return this.state.pickResetMethodFailureType!==Ue.NONE}},{key:"getFormErrorText",value:function(){return this.state.pickResetMethodFailureType===Ue.ACCOUNT_NOT_FOUND?"We couldnt find that email.":this.state.pickResetMethodFailureType===Ue.INTERNAL_SERVER_ERROR?"Internal error. Refresh the page.":""}},{key:"handleSubmit",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n,r,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.state,n=a.email,r=a.phone,s=a.selectedContactMethod,this.setState({pickResetMethodFailureType:Ue.NONE}),e.next=5,Ve(n,s);case 5:this.props.history.push("/entercode?email=".concat(n,"&phone=").concat(r,"&selectedContactMethod=").concat(s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),404===e.t0.response.status?this.setState({pickResetMethodFailureType:Ue.ACCOUNT_NOT_FOUND}):500===e.t0.response.status&&this.setState({pickResetMethodFailureType:Ue.INTERNAL_SERVER_ERROR});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.email,a=e.phone,r=Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"contact",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"contact-method",children:"Send Code Via Email"}),Object(n.jsx)("div",{className:"contact-detail",children:this.state.email})]}),Object(n.jsx)("div",{className:"radio-container",children:Object(n.jsx)(Be.a,{color:"primary",checked:"email"===this.state.selectedContactMethod,onChange:this.handleChange,value:"email"})})]}),Object(n.jsx)(Oe.a,{className:"contact-divider"})]}),s=Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"contact",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"contact-method",children:"Send Code Via SMS"}),Object(n.jsx)("div",{className:"contact-detail",children:this.state.phone})]}),Object(n.jsx)("div",{className:"radio-container",children:Object(n.jsx)(Be.a,{color:"primary",checked:"phone"===this.state.selectedContactMethod,onChange:this.handleChange,value:"phone"})})]}),Object(n.jsx)(Oe.a,{className:"contact-divider"})]});return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Pick Reset Method"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsxs)(We.a,{elevation:1,className:"find-account-icon-container",children:[Object(n.jsx)(x.a,{color:"primary",className:"find-account-icon"}),Object(n.jsx)("div",{children:this.state.email})]}),Object(n.jsx)("div",{className:"auth-instructions desktop-only",children:"Select how you would like to recieve the code to reset your password."}),Object(n.jsx)(Oe.a,{className:"contact-divider"}),t&&r,a&&s,Object(n.jsx)(z.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Send Code"}),Object(n.jsx)($.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()})]}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/findaccount",children:Object(n.jsx)(z.a,{className:"find-email-btn non-important-btn",color:"primary",children:"Not You?"})})})]})})}}]),a}(s.a.Component);a(213);!function(e){e[e.NONE=0]="NONE",e[e.INVALID_PASSCODE=1]="INVALID_PASSCODE",e[e.CODE_EXPIRED=2]="CODE_EXPIRED",e[e.TOO_MANY_ATTEMPTS=3]="TOO_MANY_ATTEMPTS",e[e.INTERNAL_SERVER_ERROR=4]="INTERNAL_SERVER_ERROR",e[e.RESENT_CODE=5]="RESENT_CODE"}(Ye||(Ye={}));var Qe,qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(d.a)(this,a),n=t.call(this,e);var r="",s="",i="",c=Xe.a.parse(n.props.location.search,{ignoreQueryPrefix:!0});return c&&(r=c.selectedContactMethod,s=c.email,"phone"===r&&(i=c.phone)),n.state={selectedContactMethod:r,email:s,phone:i,submitIsTouched:!1,code:"",enterCodeStatusType:Ye.NONE},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handleCodeChange=n.handleCodeChange.bind(Object(P.a)(n)),n.resendCodeClicked=n.resendCodeClicked.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleCodeChange",value:function(e){var t=e.target.value;this.setState({code:t})}},{key:"getCodeHelperText",value:function(){if(this.displayCodeTextFieldError())return"Code must be 8 digits";var e=this.state.selectedContactMethod;return"Enter the 8 digit code sent to your ".concat(e,".")}},{key:"codeIsValid",value:function(){return 8===this.state.code.length}},{key:"displayCodeTextFieldError",value:function(){var e=this.state,t=e.submitIsTouched;e.code;return!!t&&!this.codeIsValid()}},{key:"handleSubmit",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({submitIsTouched:!0}),this.codeIsValid()){e.next=3;break}return e.abrupt("return");case 3:return a=this.state,n=a.email,r=a.code,a.selectedContactMethod,a.phone,e.prev=4,e.next=7,Me(n,r);case 7:this.setState({enterCodeStatusType:Ye.NONE}),this.props.history.push("/resetpassword?email=".concat(n,"&code=").concat(r)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("error",e.t0),401===e.t0.response.status?"Invalid email/passcode combination"===e.t0.response.data.message?this.setState({enterCodeStatusType:Ye.INVALID_PASSCODE}):"Reset code has expired"===e.t0.response.data.message?this.setState({enterCodeStatusType:Ye.CODE_EXPIRED}):"Too many failed attempts"===e.t0.response.data.message&&this.setState({enterCodeStatusType:Ye.TOO_MANY_ATTEMPTS}):this.setState({enterCodeStatusType:Ye.INTERNAL_SERVER_ERROR});case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"displayFormHelperText",value:function(){return this.state.enterCodeStatusType!==Ye.NONE}},{key:"getFormHelperText",value:function(){var e=this.state,t=e.enterCodeStatusType,a=e.selectedContactMethod,n=e.email,r=e.phone;return t===Ye.INVALID_PASSCODE?"Wrong code, try again.":t===Ye.CODE_EXPIRED?"This code has expired.":t===Ye.TOO_MANY_ATTEMPTS?"Too many failed attempts.":t===Ye.INTERNAL_SERVER_ERROR?"Internal server error. Please refresh the page and try again.":t===Ye.RESENT_CODE?"Another code has been sent to ".concat("email"===a?n:r):""}},{key:"formHelperTextIsError",value:function(){return this.state.enterCodeStatusType!==Ye.RESENT_CODE}},{key:"displayResendCodeLink",value:function(){var e=this.state.enterCodeStatusType;return e===Ye.TOO_MANY_ATTEMPTS||e===Ye.CODE_EXPIRED}},{key:"resendCodeClicked",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.email,r=a.selectedContactMethod,e.prev=1,e.next=4,Ve(n,r);case 4:this.setState({enterCodeStatusType:Ye.RESENT_CODE}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({enterCodeStatusType:Ye.INTERNAL_SERVER_ERROR});case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.selectedContactMethod,a=e.phone,r=e.email,s="email"===t?r:a;return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Enter Security Code"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsxs)("div",{className:"auth-instructions desktop-only",children:["Please check your ",t," for the 8 digit code that was sent to ",s,"."]}),Object(n.jsx)(W.a,{onChange:this.handleCodeChange,className:"auth-txt-field",label:"########",variant:"filled",helperText:this.getCodeHelperText(),error:this.displayCodeTextFieldError()}),Object(n.jsx)(z.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Enter Code"}),Object(n.jsxs)($.a,{className:"auth-err ".concat(this.displayFormHelperText()?"":"display-none"),error:this.formHelperTextIsError(),children:[this.getFormHelperText(),Object(n.jsx)("span",{className:"resend-code ".concat(this.displayResendCodeLink()?"":"display-none"),onClick:this.resendCodeClicked,children:"Resend Code?"})]})]}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/pickresetmethod?email=".concat(r,"&phone=").concat(a),children:Object(n.jsx)(z.a,{className:"enter-code-btn non-important-btn",color:"primary",children:"Try Another Way"})})})]})})}}]),a}(s.a.Component),Ke=a(150),$e=a.n(Ke);a(214);!function(e){e[e.PASSWORD_EXPIRED=0]="PASSWORD_EXPIRED",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(Qe||(Qe={}));var Ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(d.a)(this,a),n=t.call(this,e);var r=Xe.a.parse(n.props.location.search,{ignoreQueryPrefix:!0}),s="",i="";return r&&(s=r.code,i=r.email),n.state={code:s,email:i,password:"",resetPasswordFailureType:Qe.NONE,submitButtonTouched:!1,passwordChangeSuccess:!1},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"displayPasswordError",value:function(){return!this.passwordIsValid()&&this.state.submitButtonTouched}},{key:"passwordHasCorrectLength",value:function(){var e=this.state.password;return e.length>=8&&e.length<=32}},{key:"passwordHasCorrectCharacters",value:function(){var e=this.state.password;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,32}$/.test(e)}},{key:"passwordIsValid",value:function(){return this.passwordHasCorrectCharacters()&&this.passwordHasCorrectLength()}},{key:"getPasswordHelperText",value:function(){var e=this.state.submitButtonTouched;return!this.passwordHasCorrectLength()&&e?"Enter between 8 and 32 characters":!this.passwordHasCorrectCharacters()&&e?"Include a letter, number, and special character":"Enter your new password"}},{key:"displayFormError",value:function(){return this.state.resetPasswordFailureType!==Qe.NONE}},{key:"getFormErrorText",value:function(){var e=this.state.resetPasswordFailureType;return e===Qe.PASSWORD_EXPIRED?"This reset code has expired.":e===Qe.INTERNAL_SERVER_ERROR?"Internal server error. Please refresh the page and try again.":""}},{key:"handleSubmit",value:function(){var e=Object(D.a)(_.a.mark((function e(t){var a,n,r,s,i=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.email,r=a.password,s=a.code,this.setState({submitButtonTouched:!0}),this.passwordIsValid()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,He(n,r,s);case 7:this.setState({resetPasswordFailureType:Qe.NONE,passwordChangeSuccess:!0}),t(),setTimeout((function(){i.props.history.push("/features/schedule")}),500),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),401===e.t0.response.status&&"Reset code has expired"===e.t0.response.data.message?(this.setState({resetPasswordFailureType:Qe.PASSWORD_EXPIRED}),console.log("error.response.data",e.t0.response.data)):this.setState({resetPasswordFailureType:Qe.INTERNAL_SERVER_ERROR});case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.passwordChangeSuccess;return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(O.a,{className:"auth-header",color:"primary",variant:"h4",children:"Reset Password"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)("div",{className:"auth-instructions desktop-only",children:"Enter a new password between 8 and 32 characters. Include at least one uppercase letter, lowercase letter, number, and special character. "}),Object(n.jsx)(De,{onChange:this.handlePasswordChange,inputProps:{maxLength:32},className:"auth-txt-field",error:this.displayPasswordError(),helperText:this.getPasswordHelperText(),label:"New Password"}),Object(n.jsx)(ye,{children:function(t){return Object(n.jsx)(z.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Change Password"})}}),Object(n.jsx)($.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:this.displayFormError(),children:this.getFormErrorText()}),Object(n.jsxs)("div",{className:"change-pw-success ".concat(t?"":"display-none"),children:[Object(n.jsx)("div",{className:"change-pw-success-txt",children:"Password Changed"}),Object(n.jsx)($e.a,{color:"primary"})]})]})]})})}}]),a}(s.a.Component),et=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.options,r=t.component,s=t.children;return Object(n.jsx)(ye,{children:function(t){return t.isLoggedIn?Object(n.jsx)(l.b,Object(Re.a)(Object(Re.a)({path:e.props.path},a),{},{component:t.isLoggedIn?r:Fe,children:s})):Object(n.jsx)(l.a,{to:"/login"})}})}}]),a}(s.a.Component);a(215);var tt=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/register",component:Le}),Object(n.jsx)(l.b,{exact:!0,path:"/login",component:Fe}),Object(n.jsx)(l.b,{exact:!0,path:"/findaccount",component:ze}),Object(n.jsx)(l.b,{exact:!0,path:"/pickresetmethod",component:Ze}),Object(n.jsx)(l.b,{exact:!0,path:"/entercode",component:qe}),Object(n.jsx)(l.b,{exact:!0,path:"/resetpassword",component:Ge}),Object(n.jsx)(l.b,{exact:!0,path:"/",component:ke}),Object(n.jsx)(et,{path:"/features",children:Object(n.jsxs)(R,{children:[Object(n.jsx)(l.b,{path:"/features/schedule",component:be}),Object(n.jsx)(l.b,{path:"/features/homelesspeople",component:w}),Object(n.jsx)(l.b,{path:"/features/prayerrequests",component:j}),Object(n.jsx)(l.b,{path:"/features/map",component:A}),Object(n.jsx)(l.b,{path:"/features/accountsettings",component:Te})]})})]})})},at=a(263),nt=a(153),rt=a(266),st=a(152),it=a.n(st),ct=a(151),ot=a.n(ct),lt=Object(nt.a)({palette:{primary:ot.a,secondary:it.a},status:{danger:"red"}}),dt=lt=Object(rt.a)(lt);c.a.render(Object(n.jsx)(Ce,{children:Object(n.jsx)(at.a,{theme:dt,children:Object(n.jsx)(tt,{})})}),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.d31a9642.chunk.js.map