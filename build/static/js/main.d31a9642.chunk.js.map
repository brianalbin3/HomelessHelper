{"version":3,"sources":["components/PrayerRequests.tsx","components/Header.tsx","components/Main.tsx","components/HomelessPeople.tsx","components/MapComponent.tsx","api/event.tsx","components/AddEventDialog.tsx","img/ggchurch.png","components/ViewEventDialog.tsx","components/ErrorBox.tsx","components/Schedule.tsx","api/auth.tsx","contexts/authContext.js","components/AccountSettings.tsx","components/Splash.tsx","components/Login.tsx","components/PasswordInput.tsx","components/FindAccount.tsx","components/Register.tsx","api/user.tsx","components/PickResetMethod.tsx","components/EnterCode.tsx","components/ResetPassword.tsx","components/PrivateRoute.tsx","App.tsx","theme.js","index.tsx"],"names":["PrayerRequests","props","React","Component","Header","className","AppBar","position","Toolbar","Typography","variant","to","activeClassName","Main","this","children","HomelessPeople","MapComponent","getEvents","a","axios","get","createEvent","event","post","AddEventDialog","state","title","startTime","endTime","date","successSnackbarOpen","submitPressed","internalServerError","handleTitleChange","bind","handleStartTimeChange","handleEndTimeChange","handleDateChange","handleCancel","handleSubmit","handleUndo","handleClose","e","target","value","setState","onCancel","endTimeIsValid","startHours","hour","startMinutes","minute","endHours","endMinutes","startDateAndTime","set","endDateAndTime","eventAPI","start","toJSDate","end","response","data","DateTime","fromISO","onEventAdded","console","error","status","reason","TextField","titlehasErrorTxt","onChange","label","helperText","utils","LuxonUtils","DatePicker","datehasErrorTxt","inputVariant","format","margin","InputProps","endAdornment","InputAdornment","color","TimePicker","startTimehasErrorTxt","endTimehasErrorTxt","getEndTimeHelperTxt","FormHelperText","hasInternalServerError","Button","onClick","size","Snackbar","open","autoHideDuration","onClose","message","action","Fragment","IconButton","aria-label","fontSize","ViewEventDialog","id","description","startStr","fromJSDate","toFormat","endStr","dateTimeStr","src","churchImg","alt","endIcon","ErrorBox","Schedule","currentEvent","addEventDialogOpen","events","eventsLoaded","errorLoadingEvents","eventClicked","eventAdded","openViewEventDialog","closeViewEventDialog","openAddEventDialog","closeAddEventDialog","loadEvents","result","forEach","log","push","localizer","luxonLocalizer","that","style","height","onSelectEvent","CircularProgress","viewEventDialog","Fab","register","email","password","login","hasLoginCookie","Cookies","createContext","Provider","Consumer","AuthContextProvider","isLoggedIn","auth","logout","AccountSettings","callback","delete","history","width","disabled","Divider","context","handleLogout","Splash","LoginFailureType","PasswordInput","togglePasswordMask","prevState","passwordIsMasked","classes","type","getVisibilityIcon","SearchAccountFailureType","Login","submitIsTouched","loginFailureType","NONE","handleEmailChange","handlePasswordChange","length","BAD_EMAIL_PASSWORD","INTERNAL_SERVER_ERROR","ACCOUNT_LOCKED","emailHasError","inputProps","maxLength","passwordHasError","hasFormError","getFormErrorText","Register","passwordIsTouched","emailIsTaken","test","isValidEmail","passwordIsValid","passwordHasCorrectLength","name","getEmailHelperText","getPasswordHelperText","sendResetCode","selectedContactMethod","checkResetCode","resetCode","params","changePassword","PickResetMethodFailureType","FindAccount","contact","searchAccountFailureType","handleContactChange","account","contactInformation","contactInfo","phone","ACCOUNT_NOT_FOUND","contactHasError","displayFormError","EnterCodeStatusType","PickResetMethod","qs","parse","location","search","ignoreQueryPrefix","pickResetMethodFailureType","handleChange","userAPI","emailOption","Radio","checked","phoneOption","Paper","elevation","ResetPasswordFailureType","EnterCode","qsParse","code","enterCodeStatusType","handleCodeChange","resendCodeClicked","displayCodeTextFieldError","codeIsValid","INVALID_PASSCODE","CODE_EXPIRED","TOO_MANY_ATTEMPTS","RESENT_CODE","contactDetail","getCodeHelperText","displayFormHelperText","formHelperTextIsError","getFormHelperText","displayResendCodeLink","ResetPassword","resetPasswordFailureType","submitButtonTouched","passwordChangeSuccess","passwordHasCorrectCharacters","PASSWORD_EXPIRED","setTimeout","displayPasswordError","PrivateRoute","options","component","path","App","exact","theme","createMuiTheme","palette","primary","teal","secondary","orange","danger","responsiveFontSizes","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.d31a9642.chunk.js","sourcesContent":["import React  from 'react';\r\n\r\ntype PrayerRequestsState = {\r\n\r\n}\r\n\r\ntype PrayerRequestsProps = {\r\n\r\n}\r\n\r\nclass PrayerRequests extends React.Component<PrayerRequestsProps, PrayerRequestsState> {\r\n    constructor(props: PrayerRequestsProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <h1>Prayer Requests</h1>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrayerRequests;","import React from 'react';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport PrayerRequestIcon from '@material-ui/icons/AccessibilityNew';\r\nimport MapIcon from '@material-ui/icons/Map';\r\nimport EventIcon from '@material-ui/icons/Event';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Header.css';\r\n\r\ntype HeaderState = {}\r\n\r\ntype HeaderProps = {}\r\n\r\nclass Header extends React.Component<HeaderProps, HeaderState> {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app-bar-container\">\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <Typography variant=\"h6\" className=\"title\"></Typography>\r\n                        <nav>\r\n                            <NavLink className=\"icon-container\" to=\"/features/schedule\" activeClassName=\"icon-container-active\">\r\n                                <EventIcon className=\"icon\" />\r\n                                <div className=\"icon-description\">Schedule</div>\r\n                            </NavLink>\r\n                            <NavLink className=\"icon-container\" to=\"/features/homelesspeople\" activeClassName=\"icon-container-active\">\r\n                                <PeopleIcon className=\"icon\" />\r\n                                <div className=\"icon-description\">Homeless People</div>\r\n                            </NavLink>\r\n                            <NavLink className=\"icon-container\" to=\"/features/prayerrequests\" activeClassName=\"icon-container-active\">\r\n                                <PrayerRequestIcon className=\"icon\" />\r\n                                <div className=\"icon-description\">Prayer Requests</div>\r\n                            </NavLink>\r\n                            <NavLink className=\"icon-container\" to=\"/features/map\" activeClassName=\"icon-container-active\">\r\n                                <MapIcon className=\"icon\" />\r\n                                <div className=\"icon-description\">Map</div>\r\n                            </NavLink>\r\n                            <NavLink className=\"icon-container\" to=\"/features/accountsettings\" activeClassName=\"icon-container-active\">\r\n                                <AccountCircle className=\"icon\" />\r\n                                <div className=\"icon-description\">Account</div>\r\n                            </NavLink>\r\n                        </nav>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\n\r\nimport Header from './Header';\r\n\r\nimport './Main.css';\r\n\r\ninterface MainProps {\r\n  children: any; /* ReactChild | ReactChildren; */\r\n}\r\n\r\ninterface MainState {}\r\n\r\nclass Main extends React.Component <MainProps, MainState > {\r\n\r\n  render() {\r\n    return (\r\n      /*\r\n      TODO: Add to below div\r\ndisplay: flex;\r\nflex-direction: column;\r\nheight: 100%;\r\n      */\r\n      <div className=\"main-container\">\r\n        <Header/>\r\n        <main>{this.props.children}</main> \r\n      </div>\r\n    );\r\n    // TODO: add flex: 1 to main\r\n  }\r\n}\r\n\r\nexport default Main;","import React  from 'react';\r\n\r\ntype HomelessPeopleState = {\r\n\r\n}\r\n\r\ntype HomelessPeopleProps = {\r\n\r\n}\r\n\r\nclass HomelessPeople extends React.Component<HomelessPeopleProps, HomelessPeopleState> {\r\n    constructor(props: HomelessPeopleProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <h1>Homeless People</h1>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomelessPeople;","import React  from 'react';\r\n\r\ntype MapComponentState = {\r\n  \r\n}\r\n\r\ntype MapComponentProps = {\r\n\r\n}\r\n\r\n// TODO: Should {} be MapComponentProps\r\nclass MapComponent extends React.Component<{}, MapComponentState> {\r\n    constructor(props: MapComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <h1>Map of Frederick</h1>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MapComponent;","import axios from 'axios';\r\n\r\nimport Event from '../models/Event';\r\n\r\n\r\nexport const getEvents = async () => {\r\n    return axios.get('/api/events');\r\n}\r\n\r\n// TODO: Return type\r\nexport const createEvent = async (event: Event) => {\r\n    return axios.post('/api/events', event);\r\n}\r\n","import React from 'react';\r\n\r\n\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\n//import Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nimport { MaterialUiPickersDate } from '@material-ui/pickers/typings/date';\r\n\r\nimport { SnackbarCloseReason } from '@material-ui/core/Snackbar/Snackbar';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport * as eventAPI from '../api/event';\r\n\r\n//import LuxonUtils from 'luxon';\r\nimport LuxonUtils from '@date-io/luxon';\r\n\r\nimport { DateTime } from 'luxon';\r\n\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport Event from '../models/Event';\r\n\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  TimePicker,\r\n  DatePicker\r\n} from '@material-ui/pickers';\r\n\r\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\r\nimport EventIcon from '@material-ui/icons/Event';\r\n\r\nimport { InputAdornment } from '@material-ui/core';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport './AddEventDialog.css';\r\n\r\ntype AddEventDialogState = {\r\n    title: string | null,\r\n    startTime: MaterialUiPickersDate | null,\r\n    endTime: MaterialUiPickersDate | null,\r\n    date: MaterialUiPickersDate | null,\r\n    successSnackbarOpen: boolean,\r\n    submitPressed: boolean,\r\n    internalServerError: boolean\r\n}\r\n\r\n\r\ntype AddEventDialogProps = {\r\n    onCancel: any // TODO: Type, optional/etc?\r\n    onEventAdded: (event: any) => void;\r\n}\r\n\r\nclass AddEventDialog extends React.Component<AddEventDialogProps, AddEventDialogState> {\r\n\r\n    constructor(props: AddEventDialogProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            title: '',\r\n            startTime: null,\r\n            endTime: null,\r\n            date: null,\r\n            successSnackbarOpen: false,\r\n            submitPressed: false,\r\n            internalServerError: false\r\n     };\r\n\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleStartTimeChange = this.handleStartTimeChange.bind(this);\r\n        this.handleEndTimeChange = this.handleEndTimeChange.bind(this);\r\n        this.handleDateChange = this.handleDateChange.bind(this);\r\n        this.handleCancel = this.handleCancel.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleUndo = this.handleUndo.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n    }\r\n\r\n    handleTitleChange(e: any) {\r\n        const title: string = e.target.value;\r\n        this.setState({title});\r\n    }\r\n    \r\n    handleStartTimeChange(startTime: MaterialUiPickersDate | null) {\r\n        this.setState({startTime});\r\n    }\r\n\r\n    handleEndTimeChange(endTime: MaterialUiPickersDate | null) {\r\n        this.setState({endTime});\r\n    }\r\n\r\n    handleDateChange(date: MaterialUiPickersDate | null) {\r\n        this.setState({ date: date});\r\n    }\r\n\r\n    // TODO: Correct type\r\n    handleCancel(e: any) {\r\n        this.props.onCancel();\r\n    }\r\n\r\n    titlehasErrorTxt(): boolean {\r\n        const { title, submitPressed } = this.state;\r\n\r\n        return submitPressed && !title;\r\n    }\r\n\r\n    datehasErrorTxt(): boolean {\r\n        const { date, submitPressed } = this.state;\r\n\r\n        return submitPressed && !date;\r\n    }\r\n\r\n    startTimehasErrorTxt(): boolean {\r\n        const { startTime, submitPressed } = this.state;\r\n\r\n        return submitPressed && !startTime;\r\n    }\r\n\r\n    // TODO: Error where start time is after end time\r\n    endTimehasErrorTxt(): boolean {\r\n        const { endTime, submitPressed } = this.state;\r\n\r\n        return submitPressed && (!endTime || !this.endTimeIsValid()) ;\r\n    }\r\n\r\n    endTimeIsValid(): boolean {\r\n        const { startTime, endTime } = this.state;\r\n\r\n        if ( startTime && endTime ) {\r\n            if ( startTime > endTime ) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getEndTimeHelperTxt(): string {\r\n        const { endTime, submitPressed } = this.state;\r\n\r\n        if ( submitPressed && !this.endTimeIsValid() ) {\r\n            return 'End time must be after start time';\r\n        }\r\n\r\n        return 'What time should the outreach end?';\r\n    }\r\n\r\n    // TODO: Correct type\r\n    async handleSubmit(e: any) {\r\n\r\n        this.setState({submitPressed: true});\r\n\r\n        const { title, startTime, endTime, date } = this.state;\r\n\r\n\r\n        if ( !title || !date || !startTime || !endTime || !this.endTimeIsValid() ) {\r\n            return;\r\n        }\r\n\r\n        const startHours: number = startTime.hour;\r\n        const startMinutes: number = startTime.minute;\r\n\r\n        const endHours: number = endTime.hour;\r\n        const endMinutes: number = endTime.minute;\r\n\r\n        // TODO: Type\r\n        const startDateAndTime: any = date.set({hour: startHours, minute: startMinutes});\r\n        const endDateAndTime: any = date.set({hour: endHours, minute: endMinutes});\r\n\r\n        try {\r\n            let response = await eventAPI.createEvent({ title, start: startDateAndTime.toJSDate(), end: endDateAndTime.toJSDate() });\r\n            let event = response.data;\r\n\r\n            // TODO: Should really be done in AddEventDialog\r\n            event.start = DateTime.fromISO(event.start).toJSDate();\r\n            event.end = DateTime.fromISO(event.end).toJSDate();\r\n\r\n            // TODO: Type\r\n            this.props.onEventAdded(event);\r\n        }\r\n        catch ( error ) {\r\n            console.error(\"brian in error\")\r\n            if ( error.response.status === 500 ) {\r\n                this.setState({internalServerError: true});\r\n            }\r\n            else {\r\n                console.error('Unhandled error'); // TODO: Handle this\r\n            }\r\n        }\r\n    }\r\n\r\n    handleUndo(event: React.SyntheticEvent<any>) {\r\n        this.setState({successSnackbarOpen: false})\r\n    }\r\n\r\n    handleClose(event: React.SyntheticEvent<any>, reason?: SnackbarCloseReason) {\r\n        // if (reason === 'clickaway') { // TODO: Do I want it to close when I click elsewhere on the screen?\r\n        //   return;\r\n        // }\r\n\r\n        this.setState({successSnackbarOpen: false})\r\n    }\r\n\r\n    hasInternalServerError(): boolean {\r\n        return this.state.internalServerError;\r\n    }\r\n\r\n\r\n    render() {\r\n        const { startTime, endTime, date, successSnackbarOpen } = this.state;\r\n\r\n        // TODO: Async autocomplete for medicine name\r\n        //https://codesandbox.io/s/wj0r6?file=/demo.tsx\r\n        \r\n        return (\r\n            <div className=\"grayout\">\r\n                <div className=\"add-event-dialog\">\r\n                    <div className=\"dialog-header\">\r\n                        <Typography className=\"dialog-title\" variant=\"h4\">Add Event</Typography>\r\n                    </div>\r\n                    <div className=\"dialog-body\">\r\n                        <div className=\"dialog-form\">\r\n                            <TextField error={this.titlehasErrorTxt()} onChange={this.handleTitleChange} className=\"dialog-txt-field\" label=\"Title\" variant=\"filled\" helperText=\"Enter the title of the outreach event\" />\r\n\r\n                            <MuiPickersUtilsProvider utils={LuxonUtils}>\r\n                                <DatePicker\r\n                                    error={this.datehasErrorTxt()}\r\n                                    className=\"dialog-picker-field\"\r\n                                    inputVariant=\"filled\"\r\n                                    format=\"MM/dd/yyyy\"\r\n                                    value={date}\r\n                                    margin=\"normal\"\r\n                                    label=\"Start Date\"\r\n                                    onChange={this.handleDateChange}\r\n                                    helperText=\"What date should the outreach be on?\"\r\n                                    InputProps={{\r\n                                        endAdornment: (\r\n                                        <InputAdornment position=\"end\">\r\n                                            <EventIcon color=\"primary\"/>\r\n                                        </InputAdornment>\r\n                                        ),\r\n                                    }}\r\n                                />\r\n\r\n                                <TimePicker\r\n                                    error={this.startTimehasErrorTxt()}\r\n                                    className=\"dialog-picker-field\"\r\n                                    inputVariant=\"filled\"\r\n                                    format=\"h:mm a\"\r\n                                    value={startTime}\r\n                                    margin=\"normal\"\r\n                                    label=\"Start Time\"\r\n                                    onChange={this.handleStartTimeChange}\r\n                                    helperText=\"What time should the outreach start?\"\r\n                                    InputProps={{\r\n                                        endAdornment: (\r\n                                        <InputAdornment position=\"end\">\r\n                                            <AccessAlarmIcon color=\"primary\"/>\r\n                                        </InputAdornment>\r\n                                        ),\r\n                                    }}\r\n                                />\r\n\r\n                                <TimePicker\r\n                                    error={this.endTimehasErrorTxt()}\r\n                                    className=\"dialog-picker-field\"\r\n                                    inputVariant=\"filled\"\r\n                                    format=\"h:mm a\"\r\n                                    value={endTime}\r\n                                    margin=\"normal\"\r\n                                    label=\"End Time\"\r\n                                    onChange={this.handleEndTimeChange}\r\n                                    helperText={this.getEndTimeHelperTxt()}\r\n                                    InputProps={{\r\n                                        endAdornment: (\r\n                                        <InputAdornment position=\"end\">\r\n                                            <AccessAlarmIcon color=\"primary\"/>\r\n                                        </InputAdornment>\r\n                                        ),\r\n                                    }}\r\n                                />\r\n\r\n                            </MuiPickersUtilsProvider>\r\n\r\n                            <FormHelperText className={`${this.hasInternalServerError() ? \"\" : \"display-none\"}`} error={true}>Uh-oh! A problem occured. Please refresh the page and try again.</FormHelperText>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dialog-actions\">\r\n                        <Button color=\"primary\" className=\"dialog-btn\" onClick={ this.handleCancel } variant=\"contained\" size=\"medium\">Cancel</Button>\r\n                        <Button color=\"primary\" className=\"dialog-btn\" onClick={ this.handleSubmit } variant=\"contained\" size=\"medium\">Add</Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <Snackbar\r\n                    open={successSnackbarOpen}\r\n                    autoHideDuration={6000}\r\n                    onClose={this.handleClose}\r\n                    message=\"Event Added\"\r\n                    action={\r\n                        <React.Fragment>\r\n                            <Button color=\"secondary\" size=\"small\" onClick={this.handleUndo}>UNDO</Button>\r\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"secondary\" onClick={this.handleClose}>\r\n                                <CloseIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddEventDialog;","export default __webpack_public_path__ + \"static/media/ggchurch.641527ed.png\";","import React  from 'react';\r\n\r\nimport './ViewEventDialog.css';\r\n\r\nimport churchImg from '../img/ggchurch.png';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { DateTime } from 'luxon';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport Event from '../models/Event';\r\n\r\ntype ViewEventDialogProps = {\r\n    event: Event\r\n}\r\n\r\ntype ViewEventDialogState = {\r\n\r\n}\r\n\r\nclass ViewEventDialog extends React.Component<ViewEventDialogProps, ViewEventDialogState> {\r\n    constructor(props: ViewEventDialogProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {id, title, start, end, description } = this.props.event;\r\n        \r\n        const startStr: string = DateTime.fromJSDate(start).toFormat('MMMM dd, h:mm a');\r\n        const endStr: string = DateTime.fromJSDate(end).toFormat('h:mm a');\r\n        const dateTimeStr: string = `${startStr} - ${endStr}`;\r\n\r\n        return (\r\n            <div className=\"grayout\">\r\n                <div className=\"view-event-dialog\">\r\n                    <div className=\"view-dialog-header\">\r\n                        <div className=\"primary-header\">{title}</div>\r\n                        <div className=\"secondary-header\">{dateTimeStr}</div>\r\n                    </div>\r\n                    <div className=\"location-img-container\">\r\n                        <img className=\"location-img\" src={churchImg} alt=\"greater grace church\" />\r\n                    </div>\r\n                    <div className=\"view-dialog-body\">\r\n                        <div className=\"event-description\">{description}</div>\r\n                        <div className=\"actions-container\">\r\n                            <Button className=\"delete-event-icon\" variant=\"outlined\" endIcon={<DeleteIcon color=\"primary\" />}>\r\n                                <div className=\"delete-txt\">Delete</div>\r\n                            </Button>\r\n                            <Button className=\"edit-event-icon\" variant=\"outlined\" endIcon={<EditIcon color=\"primary\" />}>\r\n                                <div className=\"edit-txt\">Edit</div>\r\n                            </Button>\r\n                            <Button className=\"close-event-dialog\" variant=\"outlined\" endIcon={<CloseIcon color=\"primary\" />}>Done</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ViewEventDialog;","import React  from 'react';\r\n\r\nimport './ErrorBox.css';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\n// TODO: Make functional component\r\n\r\ntype ErrorBoxState = {}\r\n\r\ntype ErrorBoxProps = {\r\n    message: string\r\n}\r\n\r\nclass ErrorBox extends React.Component<ErrorBoxProps, ErrorBoxState> {\r\n    constructor(props: ErrorBoxProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"error-box\">\r\n                <ErrorIcon color=\"error\"/>\r\n                <div className=\"error-msg\">{this.props.message}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ErrorBox;","import React from 'react';\r\n\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { DateTime } from 'luxon';\r\n\r\nimport { Calendar, luxonLocalizer } from 'react-big-calendar';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nimport AddEventDialog from './AddEventDialog';\r\n\r\nimport ViewEventDialog from './ViewEventDialog';\r\n\r\nimport ErrorBox from './ErrorBox';\r\n\r\nimport Event from '../models/Event';\r\n\r\n\r\nimport './Schedule.css';\r\n\r\n// TODO: rename this maybe?\r\nimport * as eventAPI from '../api/event';\r\nimport { EventSeatSharp } from '@material-ui/icons';\r\n\r\n\r\ntype ScheduleProps = {};\r\ntype ScheduleState = { currentEvent: Event | null, addEventDialogOpen: boolean, events: any, eventsLoaded: boolean, errorLoadingEvents: boolean}; // events: Event[]\r\n\r\n\r\n\r\nclass Schedule extends React.Component<ScheduleProps, ScheduleState> {\r\n    constructor(props: ScheduleProps) {\r\n        super(props);\r\n\r\n        this.state = { currentEvent: null, addEventDialogOpen: false, events: [], eventsLoaded: false, errorLoadingEvents: false };\r\n\r\n        this.eventClicked = this.eventClicked.bind(this);\r\n\r\n        this.eventAdded = this.eventAdded.bind(this);\r\n\r\n        this.openViewEventDialog = this.openViewEventDialog.bind(this);\r\n        this.closeViewEventDialog = this.closeViewEventDialog.bind(this);\r\n\r\n        this.openAddEventDialog = this.openAddEventDialog.bind(this);\r\n        this.closeAddEventDialog = this.closeAddEventDialog.bind(this);\r\n    }\r\n\r\n    async componentWillMount() {\r\n        this.loadEvents();\r\n    }\r\n\r\n    async loadEvents() {\r\n        try {\r\n            // TODO: Types\r\n            var result = await eventAPI.getEvents();\r\n            var events: any = result.data;\r\n\r\n            //TODO: Type\r\n            events.forEach((event: any) => {\r\n                event.start = DateTime.fromISO(event.start).toJSDate();\r\n                event.end = DateTime.fromISO(event.end).toJSDate();\r\n            });\r\n\r\n            this.setState({events , eventsLoaded: true });\r\n        }\r\n        catch(e) {\r\n            console.error(\"error=\",e)\r\n            this.setState({errorLoadingEvents: true});\r\n        }\r\n    }\r\n\r\n    eventClicked(event: Event, e: any /*: SyntheticEvent*/) {\r\n        console.log(\"event\",event);\r\n        console.log(\"e\",e)\r\n\r\n        this.openViewEventDialog(event);\r\n    }\r\n\r\n    openViewEventDialog(event: Event) {\r\n        this.setState({currentEvent: event});\r\n    }\r\n\r\n    closeViewEventDialog(event: Event) {\r\n        this.setState({currentEvent: null});\r\n    }\r\n\r\n    openAddEventDialog() {\r\n        this.setState({addEventDialogOpen: true});\r\n    }\r\n\r\n    closeAddEventDialog() {\r\n        this.setState({ addEventDialogOpen: false});\r\n    }\r\n\r\n    eventAdded(event: Event) {  // TODO: Type\r\n        let events: any = this.state.events;\r\n        events.push(event);\r\n\r\n        this.setState({events: event})\r\n        this.closeAddEventDialog();\r\n    }\r\n\r\n    render() {\r\n        const localizer = luxonLocalizer(DateTime);\r\n        var that: any = this;\r\n\r\n        var events = this.state.events;\r\n\r\n        const { currentEvent, addEventDialogOpen, eventsLoaded, errorLoadingEvents } = this.state;\r\n        \r\n        function calendar() {\r\n            if (eventsLoaded) {\r\n                return (\r\n                    <Calendar\r\n                    localizer={localizer}\r\n                    events={events}\r\n                    style={{ height: 500 }}\r\n                    onSelectEvent={that.eventClicked}\r\n                    />\r\n                );\r\n            }\r\n\r\n            return (null);\r\n        }\r\n\r\n        function spinner() {\r\n            if ( !eventsLoaded && !errorLoadingEvents) {\r\n                return (\r\n                    <div className=\"spinner-container\">\r\n                        <CircularProgress size=\"4rem\" color=\"primary\"/>\r\n                    </div>\r\n                );\r\n            }\r\n\r\n            return (null);\r\n        }\r\n\r\n        function loadingError() {\r\n            if ( errorLoadingEvents ) {\r\n                return (\r\n                    <ErrorBox message=\"Couldn't load events!\" />\r\n                );\r\n            }\r\n\r\n            return (null);\r\n        }\r\n\r\n        function viewEventDialog() {\r\n            if (currentEvent) {\r\n                return (\r\n                    <ViewEventDialog event={currentEvent}/>\r\n                );\r\n            }\r\n        }\r\n\r\n        function addEventDialog() {\r\n            if (addEventDialogOpen) {\r\n                return (\r\n                    <AddEventDialog onEventAdded={that.eventAdded} onCancel={that.closeAddEventDialog} />\r\n                );\r\n            }\r\n\r\n            return (null);\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"page-container\">\r\n                <div className=\"page\">\r\n                    <Typography className=\"page-header\" color=\"primary\" variant=\"h3\">Upcoming Events</Typography>\r\n\r\n                    {calendar()}\r\n                    {loadingError()}\r\n                    {spinner()}\r\n                    {viewEventDialog()}\r\n                    {addEventDialog()}\r\n                    \r\n                    <Fab onClick={this.openAddEventDialog} className=\"add-event\" size=\"medium\"  aria-label=\"Add Event\" >\r\n                        <AddIcon color=\"primary\" />\r\n                    </Fab>\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Schedule;","// TODO: Should I rename this?\r\n\r\nimport axios from 'axios';\r\n\r\nimport Cookies from 'universal-cookie';\r\n\r\n\r\n// TODO: Return type\r\nexport const register = (email: string, password: string) => {\r\n    return axios.post('/api/users', {\r\n        email, password\r\n    });\r\n}\r\n\r\nexport const login = (email: string, password: string) => {\r\n    return axios.post('/api/users/login', {\r\n        email, password\r\n    });\r\n}\r\n\r\nexport const logout = () => {\r\n    return axios.delete('/api/users/logout');\r\n}\r\n\r\nexport const hasLoginCookie = (): boolean => {\r\n    const cookies: Cookies = new Cookies();\r\n    return cookies.get('jwt') ? true : false;\r\n}","import React, { Component } from \"react\";\r\nimport * as auth from '../api/auth';\r\n\r\nconst { Provider, Consumer } = React.createContext();\r\n\r\nclass AuthContextProvider extends Component {\r\n  state = {\r\n    isLoggedIn: auth.hasLoginCookie()\r\n  };\r\n\r\n  login = () => {\r\n    this.setState({ isLoggedIn: true})\r\n  };\r\n\r\n  logout = () => {\r\n    this.setState({ isLoggedIn: false})\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Provider value={{ isLoggedIn: this.state.isLoggedIn, login: this.login, logout: this.logout }}>\r\n        {this.props.children}\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport { AuthContextProvider, Consumer as AuthContextConsumer };\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\n\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport * as auth from '../api/auth';\r\n\r\nimport './AccountSettings.css';\r\n\r\n\r\nimport { AuthContextConsumer } from '../contexts/authContext';\r\n\r\ntype AccountSettingsState = {}\r\n\r\ntype AccountSettingsProps = {\r\n    history: any;\r\n}\r\n\r\nclass AccountSettings extends React.Component<AccountSettingsProps, AccountSettingsState> {\r\n    constructor(props: AccountSettingsProps) {\r\n        super(props);\r\n    }\r\n\r\n    handleLogout(callback: any) {\r\n        try {\r\n            auth.logout();\r\n\r\n            callback();\r\n\r\n            this.props.history.push('/login');\r\n        }\r\n        catch(error) {\r\n            console.log('error',error)\r\n            \r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page-container\">\r\n                <div className=\"page\">\r\n                    <Typography className=\"page-header\" color=\"primary\" variant=\"h3\">Account Settings</Typography>\r\n\r\n                    <div style={{width: '100%'}}>\r\n                        <div className=\"field-container\">\r\n                            <div className=\"field-name\">First Name</div>\r\n\r\n                            <div className=\"field-value\">Brian</div>\r\n\r\n                            <div className=\"edit-field-icon-btn-container\">\r\n                                <IconButton className=\"edit-field-icon-btn\" aria-label=\"edit\" disabled color=\"primary\">\r\n                                    <EditIcon className=\"edit-field-icon\" />\r\n                                </IconButton>\r\n                                <div className=\"edit-label\">Change</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Divider />\r\n\r\n                        <div className=\"field-container\">  \r\n                            <div className=\"field-name\">Last Name</div>\r\n                            \r\n                            <div className=\"field-value\">Albin</div>\r\n\r\n                            <div className=\"edit-field-icon-btn-container\">\r\n                                <IconButton className=\"edit-field-icon-btn\" aria-label=\"edit\" disabled color=\"primary\">\r\n                                    <EditIcon className=\"edit-field-icon\" />\r\n                                </IconButton>\r\n                                <div className=\"edit-label\">Change</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Divider />\r\n\r\n                        <div className=\"field-container\"> \r\n                            <div className=\"field-name\">Email</div>\r\n                            \r\n                            <div className=\"field-value\">brianalbin3taco@gmail.com</div>\r\n\r\n                            <div className=\"edit-field-icon-btn-container\">\r\n                                <IconButton className=\"edit-field-icon-btn\" aria-label=\"edit\" disabled color=\"primary\">\r\n                                    <EditIcon className=\"edit-field-icon\" />\r\n                                </IconButton>\r\n                                <div className=\"edit-label\">Change</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <AuthContextConsumer>\r\n                    {context => (\r\n                        <Button onClick={ e => this.handleLogout(context.logout)} className=\"auth-btn\" variant=\"contained\" color=\"primary\" size=\"medium\">Logout</Button>\r\n                    )}\r\n                    </AuthContextConsumer>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AccountSettings;","import './Splash.css';\r\n\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n// TODO: move typography font-weight: 400 to theme\r\nfunction Splash() {\r\n    return (\r\n      <div className=\"landing-page-container\">\r\n        <div className=\"info-box\">\r\n          <Typography className=\"splash-header\" color=\"primary\" variant=\"h1\">Homeless Helper</Typography>\r\n          <div className=\"description\">Helping you organize your missionary work for the homeless one page at a time.</div>\r\n          <Link className=\"no-underline\" to=\"/features/schedule\">\r\n            <Button variant=\"contained\" color=\"primary\" className=\"start-btn\">Get Started</Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Splash;","import React from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport PasswordInput from './PasswordInput';\r\n\r\nimport * as auth from '../api/auth';\r\n\r\nimport { AuthContextConsumer } from '../contexts/authContext';\r\n\r\n\r\nimport './Login.css';\r\n\r\nenum LoginFailureType {\r\n    BAD_EMAIL_PASSWORD,\r\n    INTERNAL_SERVER_ERROR,\r\n    ACCOUNT_LOCKED,\r\n    NONE\r\n}\r\n\r\ntype LoginState = {\r\n    email: string,\r\n    password: string,\r\n    submitIsTouched: boolean,\r\n    loginFailureType: LoginFailureType\r\n}\r\n\r\ntype LoginProps = {\r\n    history: any // TODO: Fix this type\r\n}\r\n\r\nclass Login extends React.Component<LoginProps, LoginState> {\r\n    constructor(props: LoginProps) {\r\n        super(props);\r\n\r\n        this.state = { email: '', password: '', submitIsTouched: false, loginFailureType: LoginFailureType.NONE };\r\n        \r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this); \r\n    }\r\n\r\n    handleEmailChange(e: any) {\r\n        const email = e.target.value;\r\n        this.setState({email});\r\n    }\r\n\r\n    emailHasError(): boolean {\r\n        const { email, submitIsTouched } = this.state;\r\n        return email.length === 0 && submitIsTouched;\r\n    }\r\n    \r\n    handlePasswordChange(e: any) {\r\n        const password = e.target.value;\r\n        this.setState({password});\r\n    }\r\n\r\n    passwordHasError(): boolean {\r\n        const { password, submitIsTouched } = this.state;\r\n        return password.length === 0 && submitIsTouched;\r\n    }\r\n\r\n    hasFormError(): boolean {\r\n        return this.state.loginFailureType !== LoginFailureType.NONE;\r\n    }\r\n\r\n    getFormErrorText() {\r\n        if (this.state.loginFailureType === LoginFailureType.BAD_EMAIL_PASSWORD) {\r\n            return 'The password youve entered is incorrect.';\r\n        }\r\n        else if ( this.state.loginFailureType === LoginFailureType.INTERNAL_SERVER_ERROR ) {\r\n            return 'Uh-oh! A problem occured. Please refresh the page and try again.';\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    async handleSubmit(callback: any) {\r\n        const { email, password } = this.state;\r\n\r\n        this.setState({submitIsTouched: true, loginFailureType: LoginFailureType.NONE});\r\n\r\n        if ( email.length === 0 || password.length === 0 ) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await auth.login(email,password);\r\n            \r\n            callback();\r\n            \r\n            this.props.history.push('/features/schedule');\r\n        }\r\n        catch ( error ) {\r\n            if ( error.response.status === 401 ) {\r\n                if ( error.response.data.message === 'Email or password is incorrect' ) { // Keep text same as client\r\n                    this.setState({loginFailureType: LoginFailureType.BAD_EMAIL_PASSWORD});\r\n                }\r\n                else if ( error.response.data.message === 'Account locked' ) { // Keep text same as server\r\n                    this.setState({loginFailureType: LoginFailureType.ACCOUNT_LOCKED});\r\n                }\r\n                else {\r\n                    console.error(\"Unknown 401 status code response\", error);\r\n                }\r\n            }\r\n            else if ( error.response.status === 500 ) {\r\n                this.setState({loginFailureType: LoginFailureType.INTERNAL_SERVER_ERROR});\r\n            }\r\n            else {\r\n                console.error('Unhandled error'); // TODO: Handle this\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if ( this.state.loginFailureType === LoginFailureType.ACCOUNT_LOCKED ) {\r\n            return (<Redirect to=\"/findaccount\"/>);\r\n        }\r\n\r\n        return (\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page\">\r\n                    <Typography className=\"auth-header\" color=\"primary\" variant=\"h4\">Login to Your Account</Typography>\r\n                    <form className=\"auth-form\">\r\n                        <TextField onChange={this.handleEmailChange} className=\"auth-txt-field\" label=\"Email\" variant=\"filled\" error={this.emailHasError()} helperText=\"Enter your email\"/>\r\n                        <PasswordInput onChange={this.handlePasswordChange} inputProps={{ maxLength: 32 }} className=\"auth-txt-field\" error={this.passwordHasError()} helperText=\"Enter your password\" label=\"Password\"/>\r\n                        <AuthContextConsumer>\r\n                        {context => (\r\n                            <Button onClick={ e => this.handleSubmit(context.login)} className=\"auth-btn\" variant=\"contained\" color=\"primary\" size=\"medium\">Login</Button>\r\n                        )}\r\n                        </AuthContextConsumer>\r\n                        <FormHelperText className={`auth-err ${this.hasFormError() ? \"\" : \"display-none\"}`} error={true}>{this.getFormErrorText()}</FormHelperText>\r\n                        <div className=\"non-important-btns-container\">\r\n                            <Link className=\"no-underline\" to=\"/register\">\r\n                                <Button className=\"non-important-btn\" color=\"primary\">Create Account</Button>\r\n                            </Link>\r\n                            <Link className=\"no-underline\" to=\"/findaccount\">\r\n                                <Button className=\"non-important-btn\" color=\"primary\">Forgot Password?</Button>\r\n                            </Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import { InputAdornment } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport React, {Component } from 'react';\r\n\r\nimport './PasswordInput.css';\r\n\r\ntype PasswordInputState = {\r\n    passwordIsMasked: boolean\r\n}\r\n\r\n//https://itnext.io/building-a-toggled-mask-password-input-component-w-react-and-material-ui-f55e6bd73434\r\n\r\n\r\ntype PasswordInputProps = {\r\n    classes?: any,\r\n    onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n    value?: string,\r\n    error?: boolean,\r\n    helperText?: string,\r\n    label?: string,\r\n    className?: string,\r\n    inputProps?: object,\r\n}\r\n\r\nclass PasswordInput extends Component<PasswordInputProps, PasswordInputState> {\r\n    constructor(props: PasswordInputProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            passwordIsMasked: true\r\n        };\r\n    }\r\n\r\n    togglePasswordMask = () => {\r\n        this.setState(prevState => ({\r\n            passwordIsMasked: !prevState.passwordIsMasked\r\n        }));\r\n    }\r\n\r\n    getVisibilityIcon() {\r\n        if ( this.state.passwordIsMasked ) {\r\n            return (\r\n                <VisibilityIcon color=\"primary\" onClick={this.togglePasswordMask} className=\"clickable-icon\"/>\r\n            );\r\n        }\r\n        \r\n        return (\r\n            <VisibilityOffIcon color=\"primary\" onClick={this.togglePasswordMask} className=\"clickable-icon\"/>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { passwordIsMasked } = this.state;\r\n\r\n        return (\r\n            <TextField\r\n                variant=\"filled\"\r\n                type={passwordIsMasked ? 'password' : 'text'}\r\n                {...this.props}\r\n                InputProps={{\r\n                    endAdornment: (\r\n                        <InputAdornment position=\"end\">\r\n                            {this.getVisibilityIcon()}\r\n                        </InputAdornment>\r\n                    ),\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default PasswordInput;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport * as userAPI from '../api/user';\r\n\r\nimport './FindAccount.css';\r\n\r\ntype FindAccountState = {\r\n    contact: string,\r\n    searchAccountFailureType: SearchAccountFailureType,\r\n    submitIsTouched: boolean\r\n}\r\n\r\ntype FindAccountProps = {\r\n    history: any\r\n}\r\n\r\nenum SearchAccountFailureType {\r\n    ACCOUNT_NOT_FOUND,\r\n    INTERNAL_SERVER_ERROR,\r\n    NONE\r\n}\r\n\r\nclass FindAccount extends React.Component<FindAccountProps, FindAccountState> {\r\n\r\n    constructor(props: FindAccountProps) {\r\n        super(props);\r\n\r\n        this.state = { contact: '', searchAccountFailureType: SearchAccountFailureType.NONE, submitIsTouched: false };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleContactChange = this.handleContactChange.bind(this);\r\n    }\r\n\r\n    handleContactChange(e: any) {\r\n        const contact = e.target.value;\r\n        this.setState({contact});\r\n    }\r\n\r\n    contactHasError(): boolean {\r\n        const { submitIsTouched, contact } = this.state;\r\n\r\n        return contact.length === 0 && submitIsTouched;\r\n    }\r\n\r\n    async handleSubmit(e: any) {\r\n        const { contact } = this.state;\r\n\r\n        this.setState({submitIsTouched: true});\r\n\r\n        if ( contact.length === 0 ) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const contactInfo: any = await (await userAPI.findAccount(contact)).data.contactInformation; // TODO: Create model for this\r\n            console.log(\"contactInfo\",contactInfo)\r\n            this.setState({searchAccountFailureType: SearchAccountFailureType.NONE, submitIsTouched: false});\r\n            this.props.history.push(`/pickresetmethod?email=${contactInfo.email}&phone=${contactInfo.phone}`); // TODO: Change this\r\n        }\r\n        catch(error) {\r\n            if ( error.response.status === 404 ) {\r\n                this.setState({searchAccountFailureType: SearchAccountFailureType.ACCOUNT_NOT_FOUND});\r\n            }\r\n            else if ( error.response.status === 500 ) {\r\n                this.setState({searchAccountFailureType: SearchAccountFailureType.INTERNAL_SERVER_ERROR});\r\n            }\r\n        }\r\n    }\r\n\r\n    displayFormError(): boolean {\r\n        return this.state.searchAccountFailureType !== SearchAccountFailureType.NONE;\r\n    }\r\n\r\n    getFormErrorText(): string {\r\n        if ( this.state.searchAccountFailureType === SearchAccountFailureType.ACCOUNT_NOT_FOUND ) {\r\n            return 'We couldnt find an account with that contact information.';\r\n        }\r\n        else if ( this.state.searchAccountFailureType === SearchAccountFailureType.INTERNAL_SERVER_ERROR ) {\r\n            return 'Internal error. Refresh the page.';\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    // TODO: auth-err really should be renamed\r\n    render() {\r\n        return (\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page\">\r\n                    <Typography className=\"auth-header\" color=\"primary\" variant=\"h4\">Find Account</Typography>\r\n                    <form className=\"auth-form\">\r\n                        <FormHelperText className=\"forgot-pw-desc\">Enter your email or phone number to search for your account.</FormHelperText>\r\n                        <TextField onChange={this.handleContactChange} className=\"auth-txt-field\" label=\"Email or Phone\" variant=\"filled\" error={this.contactHasError()} helperText=\"Enter your email or phone number\"/>\r\n                        <Button onClick={ this.handleSubmit } className=\"auth-btn\" variant=\"contained\" color=\"primary\" size=\"medium\">Search</Button>\r\n                        <FormHelperText className={`auth-err ${this.displayFormError() ? \"\" : \"display-none\"}`} error={true}>{this.getFormErrorText()}</FormHelperText>\r\n                    </form>\r\n                    <div className=\"non-important-btns-container\">\r\n                        <Link className=\"no-underline\" to=\"/login\">\r\n                            <Button className=\"find-email-btn non-important-btn\" color=\"primary\">Cancel</Button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FindAccount;","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport PasswordInput from './PasswordInput';\r\n\r\n\r\n\r\nimport * as auth from '../api/auth';\r\n\r\nimport { AuthContextConsumer } from '../contexts/authContext';\r\n\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport './Register.css';\r\n\r\ntype RegisterState = {\r\n    email: string,\r\n    password: string,\r\n    passwordIsTouched: boolean,\r\n    submitIsTouched: boolean,\r\n    emailIsTaken: boolean,\r\n    internalServerError: boolean\r\n}\r\n\r\ntype RegisterProps = {\r\n    history: any // TODO: Type\r\n}\r\n\r\nclass Register extends React.Component<RegisterProps, RegisterState> {\r\n    constructor(props: RegisterProps) {\r\n        super(props);\r\n\r\n        this.state = { email: '', password: '', passwordIsTouched: false, submitIsTouched: false, emailIsTaken: false, internalServerError: false };\r\n        \r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this); \r\n    }\r\n\r\n    handleEmailChange(e: any) {\r\n        const email = e.target.value;\r\n        this.setState({email, emailIsTaken: false});\r\n    }\r\n\r\n    isValidEmail(): boolean {\r\n        const email = this.state.email;\r\n\r\n        const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n        return regex.test(email);\r\n    }\r\n\r\n    passwordHasCorrectLength(): boolean {\r\n        const password = this.state.password;\r\n\r\n        return password.length >= 8 && password.length <= 32;\r\n    }\r\n\r\n    // TODO: FIX THIS\r\n    // Checks if the password contains numbers, letters, and special characters\r\n    passwordIsValid(): boolean {\r\n        const password = this.state.password;\r\n\r\n        const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^\\da-zA-Z]).{8,32}$/\r\n\r\n        return regex.test(password);\r\n    }\r\n\r\n    handlePasswordChange(e: any) {\r\n        const password = e.target.value;\r\n        this.setState({password, passwordIsTouched: true});\r\n    }\r\n\r\n    emailHasError(): boolean {\r\n        const { submitIsTouched } = this.state;\r\n\r\n        return !this.isValidEmail() && submitIsTouched;\r\n    }\r\n\r\n    getEmailHelperText(): string {\r\n        if ( this.emailHasError() ) {\r\n            return 'Please enter a valid email';\r\n        }\r\n        else if ( this.state.emailIsTaken ) {\r\n            return 'This email is taken, try another.';\r\n        }\r\n        \r\n        return 'Enter your email';\r\n    }\r\n\r\n    passwordHasError(): boolean {\r\n        const { submitIsTouched } = this.state;\r\n\r\n        return !this.passwordIsValid() && submitIsTouched;\r\n    }\r\n\r\n    getPasswordHelperText(): string {\r\n        if ( !this.passwordHasError() ) {\r\n            return 'Enter a password';\r\n        }\r\n        else if ( this.passwordHasCorrectLength() ) {\r\n            return 'Enter between 8 and 32 characters';\r\n        }\r\n    \r\n        return 'Include a letter, number, and special character';\r\n    }\r\n\r\n    hasInternalServerError(): boolean {\r\n        return this.state.internalServerError;\r\n    }\r\n\r\n    async handleSubmit(callback: any) {\r\n        const { email, password } = this.state;\r\n\r\n        this.setState({submitIsTouched: true, internalServerError: false});\r\n\r\n        if ( !this.isValidEmail() || !this.passwordIsValid() ) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await auth.register(email,password);\r\n            \r\n            callback();\r\n   \r\n            this.props.history.push('/features/schedule');\r\n        }\r\n        catch ( error ) {\r\n            if ( error.response.status === 409 ) {\r\n                this.setState({emailIsTaken: true});\r\n            }\r\n            else if ( error.response.status === 500 ) {\r\n                this.setState({internalServerError: true});\r\n            }\r\n            else {\r\n                console.error('Unhandled error'); // TODO: Handle this\r\n            }\r\n        }\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return (\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page\">\r\n                    <Typography className=\"auth-header\" color=\"primary\" variant=\"h4\">Create a New Account</Typography>\r\n                    <form className=\"auth-form\">\r\n                        <TextField onChange={this.handleEmailChange} name=\"email\" className=\"auth-txt-field\" label=\"Email\" variant=\"filled\" error={this.emailHasError() || this.state.emailIsTaken} helperText={this.getEmailHelperText()}/>\r\n                        <PasswordInput inputProps={{ maxLength: 32 }} onChange={this.handlePasswordChange} className=\"auth-txt-field\" label=\"Password\" error={this.passwordHasError()} helperText={this.getPasswordHelperText()} />\r\n                        <AuthContextConsumer>\r\n                        {context => (\r\n                            <Button onClick={e => this.handleSubmit(context.login)} className=\"auth-btn\" variant=\"contained\" color=\"primary\" size=\"medium\">Register</Button>\r\n                        )}\r\n                        </AuthContextConsumer>\r\n                        <FormHelperText className={`auth-err ${this.hasInternalServerError() ? \"\" : \"display-none\"}`} error={true}>Uh-oh! A problem occured. Please refresh the page and try again.</FormHelperText>\r\n                        <div className=\"non-important-btns-container\">\r\n                            <Link className=\"no-underline\" to=\"/login\">\r\n                                <Button className=\"already-registered-btn non-important-btn\" color=\"primary\">Already Have an Account?</Button>\r\n                            </Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;","\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nexport const findAccount = (account: string) => {\r\n    return axios.get(`/api/users/findaccount/${account}`);\r\n}\r\n\r\n\r\nexport const sendResetCode = (email: string, selectedContactMethod: string) => {\r\n    return axios.post('/api/users/sendresetcode', {\r\n        email, selectedContactMethod\r\n    });\r\n}\r\n\r\nexport const checkResetCode = (email: string, resetCode: string) => {\r\n    return axios.get('/api/users/checkresetcode', {\r\n\r\n        params: {\r\n            email,\r\n            resetCode\r\n            }\r\n    });\r\n}\r\n\r\nexport const changePassword = (email: string, password: string, resetCode: string) => {\r\n    return axios.post('/api/users/changepassword', {\r\n        email,\r\n        password,\r\n        resetCode\r\n    });\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport qs from 'qs';\r\n\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\n\r\nimport * as userAPI from '../api/user';\r\n\r\nimport './PickResetMethod.css';\r\n\r\ntype PickResetMethodState = {\r\n    email: string,\r\n    phone: string,\r\n    selectedContactMethod: string,\r\n    pickResetMethodFailureType: PickResetMethodFailureType,\r\n}\r\n\r\ntype PickResetMethodProps = {\r\n    location: any, // TODO: params\r\n    history: any // TODO: type\r\n}\r\n\r\nenum PickResetMethodFailureType {\r\n    ACCOUNT_NOT_FOUND,\r\n    INTERNAL_SERVER_ERROR,\r\n    NONE\r\n}\r\n\r\nclass PickResetMethod extends React.Component<PickResetMethodProps, PickResetMethodState> {\r\n\r\n    constructor(props: PickResetMethodProps) {\r\n        super(props);\r\n\r\n        let email: any = '';\r\n        let phone: any = '';\r\n\r\n        if (qs.parse(this.props.location.search, { ignoreQueryPrefix: true })) {\r\n            email = qs.parse(this.props.location.search, { ignoreQueryPrefix: true }).email;\r\n            phone = qs.parse(this.props.location.search, { ignoreQueryPrefix: true }).phone;\r\n        }\r\n\r\n        this.state = { email, selectedContactMethod: 'email', phone, pickResetMethodFailureType: PickResetMethodFailureType.NONE };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n        this.setState({ selectedContactMethod: e.target.value });\r\n    }\r\n\r\n    displayFormError(): boolean {\r\n        return this.state.pickResetMethodFailureType !== PickResetMethodFailureType.NONE;\r\n    }\r\n\r\n    getFormErrorText(): string {\r\n        if (this.state.pickResetMethodFailureType === PickResetMethodFailureType.ACCOUNT_NOT_FOUND) {\r\n            return 'We couldnt find that email.';\r\n        }\r\n        else if (this.state.pickResetMethodFailureType === PickResetMethodFailureType.INTERNAL_SERVER_ERROR) {\r\n            return 'Internal error. Refresh the page.';\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    async handleSubmit(e: any) {\r\n        try {\r\n            const { email, phone, selectedContactMethod } = this.state;\r\n\r\n            this.setState({ pickResetMethodFailureType: PickResetMethodFailureType.NONE });\r\n\r\n            await userAPI.sendResetCode(email, selectedContactMethod);\r\n\r\n            this.props.history.push(`/entercode?email=${email}&phone=${phone}&selectedContactMethod=${selectedContactMethod}`);\r\n        }\r\n        catch (error) {\r\n            if (error.response.status === 404) {\r\n                this.setState({ pickResetMethodFailureType: PickResetMethodFailureType.ACCOUNT_NOT_FOUND }); // This should never actually happen, do we really need it?\r\n            }\r\n            else if (error.response.status === 500) {\r\n                this.setState({ pickResetMethodFailureType: PickResetMethodFailureType.INTERNAL_SERVER_ERROR });\r\n            }\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const { email, phone } = this.state;\r\n\r\n        let emailOption = (\r\n            <div>\r\n                <div className=\"contact\">\r\n                    <div>\r\n                        <div className=\"contact-method\">Send Code Via Email</div>\r\n                        <div className=\"contact-detail\">{this.state.email}</div>\r\n                    </div>\r\n                    <div className=\"radio-container\">\r\n                        <Radio color=\"primary\" checked={this.state.selectedContactMethod === 'email'} onChange={this.handleChange} value=\"email\" />\r\n                    </div>\r\n                </div>\r\n                <Divider className=\"contact-divider\" />\r\n            </div>\r\n        );\r\n\r\n        let phoneOption = (\r\n            <div>\r\n                <div className=\"contact\">\r\n                    <div>\r\n                        <div className=\"contact-method\">Send Code Via SMS</div>\r\n                        <div className=\"contact-detail\">{this.state.phone}</div>\r\n                    </div>\r\n                    <div className=\"radio-container\">\r\n                        <Radio color=\"primary\" checked={this.state.selectedContactMethod === 'phone'} onChange={this.handleChange} value=\"phone\" />\r\n                    </div>\r\n                </div>\r\n                <Divider className=\"contact-divider\" />\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page\">\r\n                    <Typography className=\"auth-header\" color=\"primary\" variant=\"h4\">Pick Reset Method</Typography>\r\n                    <form className=\"auth-form\">\r\n                        <Paper elevation={1} className=\"find-account-icon-container\">\r\n                            <AccountCircle color=\"primary\" className=\"find-account-icon\" />\r\n                            <div>{this.state.email}</div>\r\n                        </Paper>\r\n                        <div className=\"auth-instructions desktop-only\">Select how you would like to recieve the code to reset your password.</div>\r\n                        <Divider className=\"contact-divider\" />\r\n                        {email && emailOption}\r\n                        {phone && phoneOption}\r\n                        <Button onClick={this.handleSubmit} className=\"auth-btn\" variant=\"contained\" color=\"primary\" size=\"medium\">Send Code</Button>\r\n                        <FormHelperText className={`auth-err ${this.displayFormError() ? \"\" : \"display-none\"}`} error={true}>{this.getFormErrorText()}</FormHelperText>\r\n                    </form>\r\n                    <div className=\"non-important-btns-container\">\r\n                        <Link className=\"no-underline\" to=\"/findaccount\">\r\n                            <Button className=\"find-email-btn non-important-btn\" color=\"primary\">Not You?</Button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PickResetMethod;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\n\r\nimport qs from 'qs';\r\n\r\nimport * as userAPI from '../api/user';\r\n\r\nimport './EnterCode.css';\r\n\r\nenum EnterCodeStatusType {\r\n    NONE,\r\n    INVALID_PASSCODE,\r\n    CODE_EXPIRED,\r\n    TOO_MANY_ATTEMPTS,\r\n    INTERNAL_SERVER_ERROR,\r\n    RESENT_CODE\r\n}\r\n\r\ntype EnterCodeState = {\r\n    selectedContactMethod: string,\r\n    email: string,\r\n    phone: string,\r\n    submitIsTouched: boolean,\r\n    code: string,\r\n    enterCodeStatusType: EnterCodeStatusType\r\n}\r\n\r\ntype EnterCodeProps = {\r\n    location: any, // TODO: type\r\n    history: any, // TODO: type\r\n}\r\n\r\n\r\nclass EnterCode extends React.Component<EnterCodeProps, EnterCodeState> {\r\n\r\n    constructor(props: EnterCodeProps) {\r\n        super(props);\r\n\r\n        let selectedContactMethod: any = '';\r\n        let email: any = '';\r\n        let phone: any = '';\r\n\r\n        let qsParse: qs.ParsedQs = qs.parse(this.props.location.search, { ignoreQueryPrefix: true });\r\n\r\n        if ( qsParse ) {\r\n            selectedContactMethod = qsParse.selectedContactMethod;\r\n            email = qsParse.email; // Need email either way for back button\r\n            \r\n            if ( selectedContactMethod === 'phone' ) {\r\n                phone = qsParse.phone;\r\n            }\r\n        }\r\n\r\n        this.state = { selectedContactMethod, email, phone, submitIsTouched: false, code: '', enterCodeStatusType: EnterCodeStatusType.NONE };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleCodeChange = this.handleCodeChange.bind(this);\r\n        this.resendCodeClicked = this.resendCodeClicked.bind(this);\r\n    }\r\n\r\n    handleCodeChange(e: any) {\r\n        const code: string = e.target.value;\r\n        this.setState({code});\r\n    }\r\n\r\n    getCodeHelperText(): string {\r\n        if ( this.displayCodeTextFieldError() ) {\r\n            return 'Code must be 8 digits';\r\n        }\r\n\r\n        const { selectedContactMethod} = this.state;\r\n        \r\n        return `Enter the 8 digit code sent to your ${selectedContactMethod}.`;\r\n    }\r\n\r\n    codeIsValid(): boolean {\r\n        return this.state.code.length === 8;\r\n    }\r\n\r\n    displayCodeTextFieldError(): boolean {\r\n        const { submitIsTouched, code } = this.state;\r\n\r\n        if ( !submitIsTouched ) {\r\n            return false\r\n        }\r\n\r\n        return !this.codeIsValid();\r\n    }\r\n      \r\n    async handleSubmit(e: any) {\r\n        this.setState({submitIsTouched: true});\r\n\r\n        if ( !this.codeIsValid() ) {\r\n            return;\r\n        }\r\n        \r\n        const { email, code, selectedContactMethod, phone } = this.state;\r\n\r\n        try {\r\n\r\n            await userAPI.checkResetCode(email, code);\r\n\r\n            this.setState({enterCodeStatusType: EnterCodeStatusType.NONE});\r\n\r\n            // TODO: should I just do history.back or something\r\n            if (selectedContactMethod === 'email') {\r\n                this.props.history.push(`/resetpassword?email=${email}&code=${code}`);\r\n            }\r\n            else {\r\n                this.props.history.push(`/resetpassword?email=${email}&code=${code}`);\r\n            }\r\n        }\r\n        catch(error) {\r\n            console.error(\"error\",error)\r\n\r\n            if ( error.response.status === 401 ) {\r\n                if ( error.response.data.message === 'Invalid email/passcode combination') {\r\n                    this.setState({enterCodeStatusType: EnterCodeStatusType.INVALID_PASSCODE});\r\n                }\r\n                else if ( error.response.data.message === 'Reset code has expired' ) {\r\n                    this.setState({enterCodeStatusType: EnterCodeStatusType.CODE_EXPIRED});\r\n                }\r\n                else if ( error.response.data.message === 'Too many failed attempts' ) {\r\n                    this.setState({enterCodeStatusType: EnterCodeStatusType.TOO_MANY_ATTEMPTS});\r\n                }\r\n            }\r\n            else { //500, 'The server encountered an unknown error.', 400, Email and/or resetCode not sent (shouldn't ever happen)\r\n                this.setState({enterCodeStatusType: EnterCodeStatusType.INTERNAL_SERVER_ERROR});\r\n            }\r\n        }\r\n    }\r\n\r\n    displayFormHelperText(): boolean {\r\n        return this.state.enterCodeStatusType !== EnterCodeStatusType.NONE;\r\n    }\r\n\r\n    getFormHelperText(): string {\r\n        const { enterCodeStatusType, selectedContactMethod, email, phone } = this.state;\r\n\r\n        if ( enterCodeStatusType === EnterCodeStatusType.INVALID_PASSCODE ) {\r\n            return 'Wrong code, try again.';\r\n        }\r\n        else if ( enterCodeStatusType === EnterCodeStatusType.CODE_EXPIRED ) {\r\n            return 'This code has expired.';\r\n        }\r\n        else if ( enterCodeStatusType === EnterCodeStatusType.TOO_MANY_ATTEMPTS ) {\r\n            return 'Too many failed attempts.';\r\n        }\r\n        else if ( enterCodeStatusType === EnterCodeStatusType.INTERNAL_SERVER_ERROR ) {\r\n            return 'Internal server error. Please refresh the page and try again.';\r\n        }\r\n        else if ( enterCodeStatusType === EnterCodeStatusType.RESENT_CODE) {\r\n            return `Another code has been sent to ${selectedContactMethod === 'email' ? email : phone}`;\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    formHelperTextIsError(): boolean {\r\n        return this.state.enterCodeStatusType !== EnterCodeStatusType.RESENT_CODE;\r\n    }\r\n\r\n    displayResendCodeLink(): boolean {\r\n        const enterCodeStatusType: EnterCodeStatusType = this.state.enterCodeStatusType;\r\n\r\n        return  enterCodeStatusType === EnterCodeStatusType.TOO_MANY_ATTEMPTS || enterCodeStatusType === EnterCodeStatusType.CODE_EXPIRED;\r\n    }\r\n\r\n    async resendCodeClicked(e: any) { // TODO: Type\r\n        const { email, selectedContactMethod } = this.state;\r\n\r\n        try {\r\n            await userAPI.sendResetCode(email, selectedContactMethod);\r\n\r\n            this.setState({enterCodeStatusType: EnterCodeStatusType.RESENT_CODE});   \r\n        }\r\n        catch (error) {\r\n            this.setState({ enterCodeStatusType: EnterCodeStatusType.INTERNAL_SERVER_ERROR });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { selectedContactMethod, phone, email } = this.state;\r\n        const contactDetail = selectedContactMethod === 'email' ? email : phone;\r\n        return (\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page\">\r\n                    <Typography className=\"auth-header\" color=\"primary\" variant=\"h4\">Enter Security Code</Typography>\r\n                    <form className=\"auth-form\">\r\n                        <div className=\"auth-instructions desktop-only\">Please check your {selectedContactMethod} for the 8 digit code that was sent to {contactDetail}.</div>\r\n                        <TextField onChange={this.handleCodeChange} className=\"auth-txt-field\" label=\"########\" variant=\"filled\" helperText={this.getCodeHelperText()} error={this.displayCodeTextFieldError()}/>\r\n                        <Button onClick={ this.handleSubmit } className=\"auth-btn\" variant=\"contained\" color=\"primary\" size=\"medium\">Enter Code</Button>\r\n                        <FormHelperText className={`auth-err ${this.displayFormHelperText() ? \"\" : \"display-none\"}`} error={this.formHelperTextIsError()}>{this.getFormHelperText()}<span className={`resend-code ${this.displayResendCodeLink() ? \"\" : \"display-none\"}`} onClick={this.resendCodeClicked}>Resend Code?</span></FormHelperText>\r\n                    </form>\r\n                    <div className=\"non-important-btns-container\">\r\n                        <Link className=\"no-underline\" to={`/pickresetmethod?email=${email}&phone=${phone}`}>\r\n                            <Button className=\"enter-code-btn non-important-btn\" color=\"primary\">Try Another Way</Button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EnterCode;","import React from 'react';\r\nimport { AuthContextConsumer } from '../contexts/authContext';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\r\n\r\nimport qs from 'qs';\r\n\r\nimport * as userAPI from '../api/user';\r\n\r\n\r\nimport PasswordInput from './PasswordInput';\r\n\r\nimport './ResetPassword.css';\r\n\r\ntype ResetPasswordState = {\r\n    resetPasswordFailureType: ResetPasswordFailureType,\r\n    code: string,\r\n    email: string,\r\n    password: string,\r\n    submitButtonTouched: boolean,\r\n    passwordChangeSuccess: boolean\r\n}\r\ntype ResetPasswordProps = {\r\n    location: any, // TODO: TYPE\r\n    history: any // TODO: Type\r\n}\r\n\r\nenum ResetPasswordFailureType {\r\n    PASSWORD_EXPIRED,\r\n    INTERNAL_SERVER_ERROR,\r\n    NONE\r\n}\r\n\r\nclass ResetPassword extends React.Component<ResetPasswordProps, ResetPasswordState> {\r\n\r\n    constructor(props: ResetPasswordProps) {\r\n        super(props);\r\n\r\n        let qsParse: qs.ParsedQs = qs.parse(this.props.location.search, { ignoreQueryPrefix: true });\r\n\r\n        let code: any = '';\r\n        let email: any = '';\r\n\r\n        if ( qsParse ) {\r\n            code = qsParse.code;\r\n            email = qsParse.email; // Need email either way for back button            \r\n        }\r\n\r\n        this.state = {\r\n            code,\r\n            email,\r\n            password: '',\r\n            resetPasswordFailureType: ResetPasswordFailureType.NONE,\r\n            submitButtonTouched: false,\r\n            passwordChangeSuccess: false \r\n        };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n    }\r\n\r\n    handlePasswordChange(e: any) {\r\n        const password = e.target.value;\r\n        this.setState({password});\r\n    }\r\n\r\n    displayPasswordError(): boolean {\r\n        return !this.passwordIsValid() && this.state.submitButtonTouched;\r\n    }\r\n\r\n    passwordHasCorrectLength(): boolean {\r\n        const { password } = this.state;\r\n\r\n        return password.length >= 8 && password.length <= 32;\r\n    }\r\n    \r\n    // TODO: Fix this\r\n    passwordHasCorrectCharacters(): boolean {\r\n        const { password } = this.state;\r\n\r\n        const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^\\da-zA-Z]).{8,32}$/\r\n\r\n        return regex.test(password);\r\n\r\n    }\r\n\r\n    passwordIsValid(): boolean {\r\n        return this.passwordHasCorrectCharacters() && this.passwordHasCorrectLength();\r\n    }\r\n\r\n    getPasswordHelperText(): string {\r\n        const { submitButtonTouched } = this.state;\r\n\r\n        if ( !this.passwordHasCorrectLength() && submitButtonTouched ) {\r\n            return 'Enter between 8 and 32 characters';\r\n        }\r\n        else if ( !this.passwordHasCorrectCharacters() && submitButtonTouched ) {\r\n            return 'Include a letter, number, and special character';\r\n        }\r\n    \r\n        return 'Enter your new password';\r\n    }\r\n\r\n    displayFormError(): boolean {\r\n        return this.state.resetPasswordFailureType !== ResetPasswordFailureType.NONE;\r\n    }\r\n\r\n    getFormErrorText(): string {\r\n        const { resetPasswordFailureType } = this.state;\r\n\r\n        if ( resetPasswordFailureType === ResetPasswordFailureType.PASSWORD_EXPIRED ) {\r\n            return 'This reset code has expired.';\r\n        }\r\n        else if ( resetPasswordFailureType === ResetPasswordFailureType.INTERNAL_SERVER_ERROR ) {\r\n            return 'Internal server error. Please refresh the page and try again.';\r\n        }\r\n\r\n        return '';\r\n    }\r\n      \r\n    async handleSubmit(callback: any) { // TODO: Rename this\r\n        const { email, password, code } = this.state;\r\n\r\n        this.setState({submitButtonTouched: true});\r\n\r\n        if ( !this.passwordIsValid() ) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await userAPI.changePassword(email, password, code);\r\n            this.setState({resetPasswordFailureType: ResetPasswordFailureType.NONE, passwordChangeSuccess: true});\r\n   \r\n            callback();\r\n\r\n            setTimeout( () => {\r\n                this.props.history.push('/features/schedule');\r\n            }, 500);\r\n        }\r\n        catch ( error ) {\r\n            if ( error.response.status === 401 && error.response.data.message === 'Reset code has expired' ) {\r\n                this.setState({resetPasswordFailureType: ResetPasswordFailureType.PASSWORD_EXPIRED});\r\n                console.log('error.response.data',error.response.data);\r\n            }\r\n            else {\r\n                this.setState({resetPasswordFailureType: ResetPasswordFailureType.INTERNAL_SERVER_ERROR});\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const {passwordChangeSuccess} = this.state;\r\n\r\n        return (\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page\">\r\n                    <Typography className=\"auth-header\" color=\"primary\" variant=\"h4\">Reset Password</Typography>\r\n                    <form className=\"auth-form\">\r\n                        <div className=\"auth-instructions desktop-only\">Enter a new password between 8 and 32 characters. Include at least one uppercase letter, lowercase letter, number, and special character. </div>\r\n                        <PasswordInput onChange={this.handlePasswordChange} inputProps={{ maxLength: 32 }} className=\"auth-txt-field\" error={this.displayPasswordError()} helperText={this.getPasswordHelperText()} label=\"New Password\"/>\r\n                        <AuthContextConsumer>\r\n                        {context => (\r\n                            <Button onClick={ e => this.handleSubmit(context.login) } className=\"auth-btn\" variant=\"contained\" color=\"primary\" size=\"medium\">Change Password</Button>\r\n                        )}\r\n                        </AuthContextConsumer>\r\n                        <FormHelperText className={`auth-err ${this.displayFormError() ? \"\" : \"display-none\"}`} error={this.displayFormError()}>{this.getFormErrorText()}</FormHelperText>\r\n                        <div className={`change-pw-success ${passwordChangeSuccess ? \"\" : \"display-none\"}`}>\r\n                            <div className=\"change-pw-success-txt\">Password Changed</div>\r\n                            <CheckCircleOutlineIcon color=\"primary\"/>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ResetPassword;","import React from 'react';\r\nimport { Route, Redirect  } from 'react-router-dom';\r\n\r\nimport { AuthContextConsumer } from '../contexts/authContext';\r\n\r\nimport Login from './Login';\r\n\r\ntype PrivateRouteState = {}\r\ntype PrivateRouteProps = { options?: any, component?: any, children?: any, path?: any }\r\n\r\nclass PrivateRoute extends React.Component<PrivateRouteProps, PrivateRouteState> {\r\n\r\n    render() {\r\n      const { options, component, children } = this.props;\r\n\r\n      return (\r\n        <AuthContextConsumer>\r\n          {\r\n\r\n          (context) => { return context.isLoggedIn ? (\r\n            <Route path={this.props.path} {...options} component={ context.isLoggedIn ? component : Login}>{children}</Route> )\r\n            : (<Redirect to=\"/login\"/>)\r\n          }\r\n          \r\n          }\r\n        </AuthContextConsumer>\r\n      );\r\n    }\r\n}\r\n\r\nexport default PrivateRoute;","import { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\r\n\r\nimport PrayerRequests from './components/PrayerRequests';\r\nimport Main from './components/Main';\r\nimport HomelessPeople from './components/HomelessPeople';\r\nimport MapComponent from './components/MapComponent';\r\nimport Schedule from './components/Schedule';\r\nimport AccountSettings from './components/AccountSettings';\r\nimport Splash from './components/Splash';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport FindAccount from './components/FindAccount';\r\nimport PickResetMethod from './components/PickResetMethod';\r\nimport EnterCode from './components/EnterCode';\r\nimport ResetPassword from './components/ResetPassword';\r\n\r\nimport PrivateRoute from './components/PrivateRoute';\r\n\r\n\r\nimport './App.css';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/findaccount\" component={FindAccount} />\r\n        <Route exact path=\"/pickresetmethod\" component={PickResetMethod} />\r\n        <Route exact path=\"/entercode\" component={EnterCode} />\r\n        <Route exact path=\"/resetpassword\" component={ResetPassword} />\r\n        <Route exact path=\"/\" component={Splash} />\r\n        <PrivateRoute path=\"/features\">\r\n          <Main>\r\n            <Route path=\"/features/schedule\" component={Schedule} />\r\n            <Route path=\"/features/homelesspeople\" component={HomelessPeople} />\r\n            <Route path=\"/features/prayerrequests\" component={PrayerRequests} />\r\n            <Route path=\"/features/map\" component={MapComponent} />\r\n            <Route path=\"/features/accountsettings\" component={AccountSettings} />\r\n          </Main>\r\n        </PrivateRoute>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles';\r\nimport orange from '@material-ui/core/colors/orange';\r\nimport teal from '@material-ui/core/colors/teal';\r\n\r\nlet theme = createMuiTheme({\r\n  palette: {\r\n    primary: teal,\r\n    secondary: orange\r\n  },\r\n  status: {\r\n      danger: 'red'\r\n  }\r\n});\r\n\r\ntheme = responsiveFontSizes(theme);\r\n\r\nexport default theme;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\n\r\nimport { AuthContextProvider } from \"./contexts/authContext\";\r\n\r\nimport theme from './theme';\r\n\r\nReactDOM.render(\r\n  //<React.StrictMode>\r\n    <AuthContextProvider>\r\n      <ThemeProvider theme={theme}>\r\n        <App />\r\n      </ThemeProvider>\r\n    </AuthContextProvider>,\r\n  //</React.StrictMode>\r\n\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}