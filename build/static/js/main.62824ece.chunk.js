(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{173:function(e,t,a){},174:function(e,t,a){},180:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a.n(r),i=a(10),c=a.n(i),o=(a(173),a(25)),l=a(26),d=a(12),h=a(13),u=a(15),p=a(14),j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Prayer Requests"})}}]),a}(s.a.Component),m=a(253),b=a(218),v=a(81),O=a(98),x=a.n(O),f=a(139),E=a.n(f),g=a(140),N=a.n(g),y=a(97),C=a.n(y),T=a(138),S=a.n(T),k=(a(174),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"app-bar-container",children:Object(n.jsx)(m.a,{position:"static",children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(v.a,{variant:"h6",className:"title"}),Object(n.jsxs)("nav",{children:[Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/schedule",activeClassName:"icon-container-active",children:[Object(n.jsx)(C.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Schedule"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/homelesspeople",activeClassName:"icon-container-active",children:[Object(n.jsx)(S.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Homeless People"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/prayerrequests",activeClassName:"icon-container-active",children:[Object(n.jsx)(E.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Prayer Requests"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/map",activeClassName:"icon-container-active",children:[Object(n.jsx)(N.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Map"})]}),Object(n.jsxs)(o.c,{className:"icon-container",to:"/features/accountsettings",activeClassName:"icon-container-active",children:[Object(n.jsx)(x.a,{className:"icon"}),Object(n.jsx)("div",{className:"icon-description",children:"Account"})]})]})]})})})}}]),a}(s.a.Component)),R=(a(180),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"main-container",children:[Object(n.jsx)(k,{}),Object(n.jsx)("main",{children:this.props.children})]})}}]),a}(s.a.Component)),w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Homeless People"})}}]),a}(s.a.Component),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"Map of Frederick"})}}]),a}(s.a.Component),D=a(17),I=a.n(D),_=a(22),P=a(8),F=(a(182),a(29)),L=a(112),V=a(261),M=a(147),H=a.n(M),U=a(260),z=a(158),W=a(220),B=a(86),J=a.n(B),X=a(159),Y=a(42),Z=a.n(Y),Q=function(){var e=Object(_.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.get("/api/events"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(_.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.a.post("/api/events",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){return Z.a.delete("/api/events/".concat(e))},$=a(144),G=a(258),ee=a(27),te=a(259),ae=a(267),ne=a(111),re=a.n(ne),se=a(221),ie=(a(200),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={title:"",startTime:null,endTime:null,date:null,description:void 0,submitPressed:!1,internalServerError:!1},n.handleTitleChange=n.handleTitleChange.bind(Object(P.a)(n)),n.handleStartTimeChange=n.handleStartTimeChange.bind(Object(P.a)(n)),n.handleEndTimeChange=n.handleEndTimeChange.bind(Object(P.a)(n)),n.handleDateChange=n.handleDateChange.bind(Object(P.a)(n)),n.handleDescriptionChange=n.handleDescriptionChange.bind(Object(P.a)(n)),n.handleCancel=n.handleCancel.bind(Object(P.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleTitleChange",value:function(e){var t=e.target.value;this.setState({title:t})}},{key:"handleStartTimeChange",value:function(e){this.setState({startTime:e})}},{key:"handleEndTimeChange",value:function(e){this.setState({endTime:e})}},{key:"handleDateChange",value:function(e){this.setState({date:e})}},{key:"handleDescriptionChange",value:function(e){var t=e.target.value;this.setState({description:t})}},{key:"handleCancel",value:function(e){this.props.onCancel()}},{key:"titlehasErrorTxt",value:function(){var e=this.state,t=e.title;return e.submitPressed&&!t}},{key:"datehasErrorTxt",value:function(){var e=this.state,t=e.date;return e.submitPressed&&!t}},{key:"startTimehasErrorTxt",value:function(){var e=this.state,t=e.startTime;return e.submitPressed&&!t}},{key:"endTimehasErrorTxt",value:function(){var e=this.state,t=e.endTime;return e.submitPressed&&(!t||!this.endTimeIsValid())}},{key:"endTimeIsValid",value:function(){var e=this.state,t=e.startTime,a=e.endTime;return!(t&&a&&t>a)}},{key:"getEndTimeHelperTxt",value:function(){var e=this.state;e.endTime;return e.submitPressed&&!this.endTimeIsValid()?"End time must be after start time":"What time should the outreach end?"}},{key:"handleSubmit",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r,s,i,c,o,l,d,h,u,p,j,m;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({submitPressed:!0}),a=this.state,n=a.title,r=a.startTime,s=a.endTime,i=a.date,c=a.description,n&&i&&r&&s&&this.endTimeIsValid()){e.next=4;break}return e.abrupt("return");case 4:return o=r.hour,l=r.minute,d=s.hour,h=s.minute,u=i.set({hour:o,minute:l}),p=i.set({hour:d,minute:h}),e.prev=10,e.next=13,q({title:n,start:u.toJSDate(),end:p.toJSDate(),description:c});case 13:j=e.sent,(m=j.data).start=F.DateTime.fromISO(m.start).toJSDate(),m.end=F.DateTime.fromISO(m.end).toJSDate(),this.props.onEventAdded(m),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),500===e.t0.response.status?this.setState({internalServerError:!0}):console.error("Unhandled error");case 23:case"end":return e.stop()}}),e,this,[[10,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"hasInternalServerError",value:function(){return this.state.internalServerError}},{key:"render",value:function(){var e=this.state,t=e.startTime,a=e.endTime,r=e.date;return Object(n.jsx)("div",{className:"grayout",children:Object(n.jsxs)("div",{className:"add-event-dialog",children:[Object(n.jsx)("div",{className:"dialog-header",children:Object(n.jsx)(v.a,{className:"dialog-title",variant:"h4",children:"Add Event"})}),Object(n.jsx)("div",{className:"dialog-body",children:Object(n.jsxs)("div",{className:"dialog-form",children:[Object(n.jsx)(X.a,{error:this.titlehasErrorTxt(),onChange:this.handleTitleChange,className:"dialog-txt-field",label:"Title",variant:"filled",helperText:"Enter the title of the outreach event",inputProps:{maxLength:64}}),Object(n.jsxs)(ee.a,{utils:$.a,children:[Object(n.jsx)(te.a,{error:this.datehasErrorTxt(),className:"dialog-picker-field",inputVariant:"filled",format:"MM/dd/yyyy",value:r,margin:"normal",label:"Start Date",onChange:this.handleDateChange,helperText:"What date should the outreach be on?",InputProps:{endAdornment:Object(n.jsx)(se.a,{position:"end",children:Object(n.jsx)(C.a,{color:"primary"})})}}),Object(n.jsx)(ae.a,{error:this.startTimehasErrorTxt(),className:"dialog-picker-field",inputVariant:"filled",format:"h:mm a",value:t,margin:"normal",label:"Start Time",onChange:this.handleStartTimeChange,helperText:"What time should the outreach start?",InputProps:{endAdornment:Object(n.jsx)(se.a,{position:"end",children:Object(n.jsx)(re.a,{color:"primary"})})}}),Object(n.jsx)(ae.a,{error:this.endTimehasErrorTxt(),className:"dialog-picker-field",inputVariant:"filled",format:"h:mm a",value:a,margin:"normal",label:"End Time",onChange:this.handleEndTimeChange,helperText:this.getEndTimeHelperTxt(),InputProps:{endAdornment:Object(n.jsx)(se.a,{position:"end",children:Object(n.jsx)(re.a,{color:"primary"})})}})]}),Object(n.jsx)(X.a,{label:"Description",multiline:!0,rows:4,onChange:this.handleDescriptionChange,helperText:"Enter the description of this event",variant:"filled",inputProps:{maxLength:2048}}),Object(n.jsx)(G.a,{className:"".concat(this.hasInternalServerError()?"":"display-none"),error:!0,children:"Uh-oh! A problem occured. Please refresh the page and try again."})]})}),Object(n.jsxs)("div",{className:"dialog-actions",children:[Object(n.jsx)(W.a,{color:"primary",className:"dialog-btn",onClick:this.handleCancel,variant:"contained",size:"medium",children:"Cancel"}),Object(n.jsx)(W.a,{color:"primary",className:"dialog-btn",onClick:this.handleSubmit,variant:"contained",size:"medium",children:"Add"})]})]})})}}]),a}(s.a.Component)),ce=(a(201),a.p+"static/media/ggchurch.641527ed.png"),oe=a(78),le=a.n(oe),de=a(145),he=a.n(de),ue=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={internalServerError:!1,notFound404Error:!1},n.handleCancel=n.handleCancel.bind(Object(P.a)(n)),n.handleDelete=n.handleDelete.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleCancel",value:function(e){this.props.onCancel()}},{key:"handleDelete",value:function(){var e=Object(_.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.event.id,e.prev=1,e.next=4,K(t);case 4:this.setState({internalServerError:!1,notFound404Error:!1}),this.props.onDelete(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),500===e.t0.response.status?this.setState({internalServerError:!0}):404===e.t0.response.status?this.setState({notFound404Error:!0}):console.error("Unhandled error");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.event,t=e.title,a=e.start,r=e.end,s=e.description,i=this.state,c=i.internalServerError,o=i.notFound404Error,l=F.DateTime.fromJSDate(a).toFormat("MMMM dd, h:mm a"),d=F.DateTime.fromJSDate(r).toFormat("h:mm a"),h="".concat(l," - ").concat(d);return Object(n.jsx)("div",{className:"grayout",children:Object(n.jsxs)("div",{className:"view-event-dialog",children:[Object(n.jsxs)("div",{className:"view-dialog-header",children:[Object(n.jsx)("div",{className:"primary-header",children:t}),Object(n.jsx)("div",{className:"secondary-header",children:h})]}),Object(n.jsx)("div",{className:"location-img-container",children:Object(n.jsx)("img",{className:"location-img",src:ce,alt:"greater grace church"})}),Object(n.jsxs)("div",{className:"view-dialog-body",children:[Object(n.jsx)("div",{className:"event-description",children:s}),Object(n.jsxs)("div",{className:"actions-container",children:[Object(n.jsx)(W.a,{onClick:this.handleDelete,className:"delete-event-icon",variant:"outlined",endIcon:Object(n.jsx)(he.a,{color:"primary"}),children:Object(n.jsx)("div",{className:"delete-txt",children:"Delete"})}),Object(n.jsx)(W.a,{className:"edit-event-icon",variant:"outlined",endIcon:Object(n.jsx)(le.a,{color:"primary"}),children:Object(n.jsx)("div",{className:"edit-txt",children:"Edit"})}),Object(n.jsx)(W.a,{onClick:this.handleCancel,className:"close-event-dialog",variant:"outlined",endIcon:Object(n.jsx)(J.a,{color:"primary"}),children:"Done"}),Object(n.jsx)(G.a,{className:"delete-err ".concat(o?"":"display-none"),error:!0,children:"Uh-oh! A problem occured. The event may have already been deleted. Please refresh the page and try again."}),Object(n.jsx)(G.a,{className:"delete-err ".concat(c?"":"display-none"),error:!0,children:"Uh-oh! A problem occured. Please refresh the page and try again."})]})]})]})})}}]),a}(s.a.Component),pe=(a(202),a(146)),je=a.n(pe),me=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"error-box",children:[Object(n.jsx)(je.a,{color:"error"}),Object(n.jsx)("div",{className:"error-msg",children:this.props.message})]})}}]),a}(s.a.Component),be=(a(203),a(265)),ve=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={currentEvent:null,addEventDialogOpen:!1,events:[],eventsLoaded:!1,errorLoadingEvents:!1,deleteEventSnackbarOpen:!1,successAddEventSnackbarOpen:!1},n.eventClicked=n.eventClicked.bind(Object(P.a)(n)),n.eventDeleted=n.eventDeleted.bind(Object(P.a)(n)),n.eventAdded=n.eventAdded.bind(Object(P.a)(n)),n.openViewEventDialog=n.openViewEventDialog.bind(Object(P.a)(n)),n.closeViewEventDialog=n.closeViewEventDialog.bind(Object(P.a)(n)),n.openAddEventDialog=n.openAddEventDialog.bind(Object(P.a)(n)),n.closeAddEventDialog=n.closeAddEventDialog.bind(Object(P.a)(n)),n.handleCloseAddEventSnackbar=n.handleCloseAddEventSnackbar.bind(Object(P.a)(n)),n.handleUndoAddEvent=n.handleUndoAddEvent.bind(Object(P.a)(n)),n.handleCloseDeleteEventSnackbar=n.handleCloseDeleteEventSnackbar.bind(Object(P.a)(n)),n.handleUndoDeleteEvent=n.handleUndoDeleteEvent.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"componentWillMount",value:function(){var e=Object(_.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadEvents();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadEvents",value:function(){var e=Object(_.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q();case 3:t=e.sent,(a=t.data).forEach((function(e){e.start=F.DateTime.fromISO(e.start).toJSDate(),e.end=F.DateTime.fromISO(e.end).toJSDate()})),this.setState({events:a,eventsLoaded:!0}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error=",e.t0),this.setState({errorLoadingEvents:!0});case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"eventClicked",value:function(e,t){this.openViewEventDialog(e)}},{key:"openViewEventDialog",value:function(e){this.setState({currentEvent:e})}},{key:"closeViewEventDialog",value:function(){this.setState({currentEvent:null})}},{key:"openAddEventDialog",value:function(){this.setState({addEventDialogOpen:!0})}},{key:"closeAddEventDialog",value:function(){this.setState({addEventDialogOpen:!1})}},{key:"handleCloseDeleteEventSnackbar",value:function(e){this.setState({deleteEventSnackbarOpen:!1})}},{key:"handleUndoAddEvent",value:function(e){}},{key:"handleCloseAddEventSnackbar",value:function(e){this.setState({successAddEventSnackbarOpen:!1})}},{key:"handleUndoDeleteEvent",value:function(e){}},{key:"eventDeleted",value:function(e){var t=this.state.events;t=t.filter((function(t){return t.id!=e})),this.setState({events:t,deleteEventSnackbarOpen:!0}),this.closeViewEventDialog()}},{key:"eventAdded",value:function(e){var t=this.state.events;t.push(e),this.setState({events:t,successAddEventSnackbarOpen:!0}),this.closeAddEventDialog()}},{key:"render",value:function(){var e=Object(L.b)(F.DateTime),t=this,a=this.state.events,r=this.state,i=r.successAddEventSnackbarOpen,c=r.deleteEventSnackbarOpen,o=r.currentEvent,l=r.addEventDialogOpen,d=r.eventsLoaded,h=r.errorLoadingEvents;return Object(n.jsxs)("div",{className:"page-container",children:[Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)(v.a,{className:"page-header",color:"primary",variant:"h3",children:"Upcoming Events"}),d?Object(n.jsx)(L.a,{localizer:e,events:a,style:{height:500},onSelectEvent:t.eventClicked}):null,h?Object(n.jsx)(me,{message:"Couldn't load events!"}):null,d||h?null:Object(n.jsx)("div",{className:"spinner-container",children:Object(n.jsx)(U.a,{size:"4rem",color:"primary"})}),function(){if(o)return Object(n.jsx)(ue,{onDelete:t.eventDeleted,event:o,onCancel:t.closeViewEventDialog})}(),l?Object(n.jsx)(ie,{onEventAdded:t.eventAdded,onCancel:t.closeAddEventDialog}):null,Object(n.jsx)(V.a,{onClick:this.openAddEventDialog,className:"add-event",size:"medium","aria-label":"Add Event",children:Object(n.jsx)(H.a,{color:"primary"})})]}),Object(n.jsx)(be.a,{open:i,autoHideDuration:6e3,onClose:this.handleCloseAddEventSnackbar,message:"Event Added",action:Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(W.a,{color:"secondary",size:"small",onClick:this.handleUndoAddEvent,children:"UNDO"}),Object(n.jsx)(z.a,{size:"small","aria-label":"close",color:"secondary",onClick:this.handleCloseAddEventSnackbar,children:Object(n.jsx)(J.a,{fontSize:"small"})})]})}),Object(n.jsx)(be.a,{open:c,autoHideDuration:6e3,onClose:this.handleCloseDeleteEventSnackbar,message:"Event Deleted",action:Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(W.a,{color:"secondary",size:"small",onClick:this.handleUndoDeleteEvent,children:"UNDO"}),Object(n.jsx)(z.a,{size:"small","aria-label":"close",color:"secondary",onClick:this.handleCloseDeleteEventSnackbar,children:Object(n.jsx)(J.a,{fontSize:"small"})})]})})]})}}]),a}(s.a.Component),Oe=a(262),xe=a(154),fe=function(e,t){return Z.a.post("/api/users",{email:e,password:t})},Ee=function(e,t){return Z.a.post("/api/users/login",{email:e,password:t})},ge=function(){return!!(new xe.a).get("jwt")},Ne=(a(204),s.a.createContext()),ye=Ne.Provider,Ce=Ne.Consumer,Te=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:ge()},e.login=function(){e.setState({isLoggedIn:!0})},e.logout=function(){e.setState({isLoggedIn:!1})},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)(ye,{value:{isLoggedIn:this.state.isLoggedIn,login:this.login,logout:this.logout},children:this.props.children})}}]),a}(r.Component),Se=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"handleLogout",value:function(e){try{Z.a.delete("/api/users/logout"),e(),this.props.history.push("/login")}catch(t){console.log("error",t)}}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"page-container",children:Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)(v.a,{className:"page-header",color:"primary",variant:"h3",children:"Account Settings"}),Object(n.jsxs)("div",{style:{width:"100%"},children:[Object(n.jsxs)("div",{className:"field-container",children:[Object(n.jsx)("div",{className:"field-name",children:"First Name"}),Object(n.jsx)("div",{className:"field-value",children:"Brian"}),Object(n.jsxs)("div",{className:"edit-field-icon-btn-container",children:[Object(n.jsx)(z.a,{className:"edit-field-icon-btn","aria-label":"edit",disabled:!0,color:"primary",children:Object(n.jsx)(le.a,{className:"edit-field-icon"})}),Object(n.jsx)("div",{className:"edit-label",children:"Change"})]})]}),Object(n.jsx)(Oe.a,{}),Object(n.jsxs)("div",{className:"field-container",children:[Object(n.jsx)("div",{className:"field-name",children:"Last Name"}),Object(n.jsx)("div",{className:"field-value",children:"Albin"}),Object(n.jsxs)("div",{className:"edit-field-icon-btn-container",children:[Object(n.jsx)(z.a,{className:"edit-field-icon-btn","aria-label":"edit",disabled:!0,color:"primary",children:Object(n.jsx)(le.a,{className:"edit-field-icon"})}),Object(n.jsx)("div",{className:"edit-label",children:"Change"})]})]}),Object(n.jsx)(Oe.a,{}),Object(n.jsxs)("div",{className:"field-container",children:[Object(n.jsx)("div",{className:"field-name",children:"Email"}),Object(n.jsx)("div",{className:"field-value",children:"brianalbin3taco@gmail.com"}),Object(n.jsxs)("div",{className:"edit-field-icon-btn-container",children:[Object(n.jsx)(z.a,{className:"edit-field-icon-btn","aria-label":"edit",disabled:!0,color:"primary",children:Object(n.jsx)(le.a,{className:"edit-field-icon"})}),Object(n.jsx)("div",{className:"edit-label",children:"Change"})]})]})]}),Object(n.jsx)(Ce,{children:function(t){return Object(n.jsx)(W.a,{onClick:function(a){return e.handleLogout(t.logout)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Logout"})}})]})})}}]),a}(s.a.Component);a(205);var ke,Re=function(){return Object(n.jsx)("div",{className:"landing-page-container",children:Object(n.jsxs)("div",{className:"info-box",children:[Object(n.jsx)(v.a,{className:"splash-header",color:"primary",variant:"h1",children:"Homeless Helper"}),Object(n.jsx)("div",{className:"description",children:"Helping you organize your missionary work for the homeless one page at a time."}),Object(n.jsx)(o.b,{className:"no-underline",to:"/features/schedule",children:Object(n.jsx)(W.a,{variant:"contained",color:"primary",className:"start-btn",children:"Get Started"})})]})})},we=a(80),Ae=a(148),De=a.n(Ae),Ie=a(149),_e=a.n(Ie),Pe=(a(206),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).togglePasswordMask=function(){n.setState((function(e){return{passwordIsMasked:!e.passwordIsMasked}}))},n.state={passwordIsMasked:!0},n}return Object(h.a)(a,[{key:"getVisibilityIcon",value:function(){return this.state.passwordIsMasked?Object(n.jsx)(De.a,{color:"primary",onClick:this.togglePasswordMask,className:"clickable-icon"}):Object(n.jsx)(_e.a,{color:"primary",onClick:this.togglePasswordMask,className:"clickable-icon"})}},{key:"render",value:function(){this.props.classes;var e=this.state.passwordIsMasked;return Object(n.jsx)(X.a,Object(we.a)(Object(we.a)({variant:"filled",type:e?"password":"text"},this.props),{},{InputProps:{endAdornment:Object(n.jsx)(se.a,{position:"end",children:this.getVisibilityIcon()})}}))}}]),a}(r.Component));a(207);!function(e){e[e.BAD_EMAIL_PASSWORD=0]="BAD_EMAIL_PASSWORD",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.ACCOUNT_LOCKED=2]="ACCOUNT_LOCKED",e[e.NONE=3]="NONE"}(ke||(ke={}));var Fe,Le=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",submitIsTouched:!1,loginFailureType:ke.NONE},n.handleEmailChange=n.handleEmailChange.bind(Object(P.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(P.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t})}},{key:"emailHasError",value:function(){var e=this.state,t=e.email,a=e.submitIsTouched;return 0===t.length&&a}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"passwordHasError",value:function(){var e=this.state,t=e.password,a=e.submitIsTouched;return 0===t.length&&a}},{key:"hasFormError",value:function(){return this.state.loginFailureType!==ke.NONE}},{key:"getFormErrorText",value:function(){return this.state.loginFailureType===ke.BAD_EMAIL_PASSWORD?"The password you\u2019ve entered is incorrect.":this.state.loginFailureType===ke.INTERNAL_SERVER_ERROR?"Uh-oh! A problem occured. Please refresh the page and try again.":""}},{key:"handleSubmit",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.email,r=a.password,this.setState({submitIsTouched:!0,loginFailureType:ke.NONE}),0!==n.length&&0!==r.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Ee(n,r);case 7:t(),this.props.history.push("/features/schedule"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),401===e.t0.response.status?"Email or password is incorrect"===e.t0.response.data.message?this.setState({loginFailureType:ke.BAD_EMAIL_PASSWORD}):"Account locked"===e.t0.response.data.message?this.setState({loginFailureType:ke.ACCOUNT_LOCKED}):console.error("Unknown 401 status code response",e.t0):500===e.t0.response.status?this.setState({loginFailureType:ke.INTERNAL_SERVER_ERROR}):console.error("Unhandled error");case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loginFailureType===ke.ACCOUNT_LOCKED?Object(n.jsx)(l.a,{to:"/findaccount"}):Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(v.a,{className:"auth-header",color:"primary",variant:"h4",children:"Login to Your Account"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)(X.a,{onChange:this.handleEmailChange,className:"auth-txt-field",label:"Email",variant:"filled",error:this.emailHasError(),helperText:"Enter your email"}),Object(n.jsx)(Pe,{onChange:this.handlePasswordChange,inputProps:{maxLength:32},className:"auth-txt-field",error:this.passwordHasError(),helperText:"Enter your password",label:"Password"}),Object(n.jsx)(Ce,{children:function(t){return Object(n.jsx)(W.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Login"})}}),Object(n.jsx)(G.a,{className:"auth-err ".concat(this.hasFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()}),Object(n.jsxs)("div",{className:"non-important-btns-container",children:[Object(n.jsx)(o.b,{className:"no-underline",to:"/register",children:Object(n.jsx)(W.a,{className:"non-important-btn",color:"primary",children:"Create Account"})}),Object(n.jsx)(o.b,{className:"no-underline",to:"/findaccount",children:Object(n.jsx)(W.a,{className:"non-important-btn",color:"primary",children:"Forgot Password?"})})]})]})]})})}}]),a}(s.a.Component),Ve=(a(208),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",passwordIsTouched:!1,submitIsTouched:!1,emailIsTaken:!1,internalServerError:!1},n.handleEmailChange=n.handleEmailChange.bind(Object(P.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(P.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t,emailIsTaken:!1})}},{key:"isValidEmail",value:function(){var e=this.state.email;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"passwordHasCorrectLength",value:function(){var e=this.state.password;return e.length>=8&&e.length<=32}},{key:"passwordIsValid",value:function(){var e=this.state.password;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,32}$/.test(e)}},{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t,passwordIsTouched:!0})}},{key:"emailHasError",value:function(){var e=this.state.submitIsTouched;return!this.isValidEmail()&&e}},{key:"getEmailHelperText",value:function(){return this.emailHasError()?"Please enter a valid email":this.state.emailIsTaken?"This email is taken, try another.":"Enter your email"}},{key:"passwordHasError",value:function(){var e=this.state.submitIsTouched;return!this.passwordIsValid()&&e}},{key:"getPasswordHelperText",value:function(){return this.passwordHasError()?this.passwordHasCorrectLength()?"Enter between 8 and 32 characters":"Include a letter, number, and special character":"Enter a password"}},{key:"hasInternalServerError",value:function(){return this.state.internalServerError}},{key:"handleSubmit",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.email,r=a.password,this.setState({submitIsTouched:!0,internalServerError:!1}),this.isValidEmail()&&this.passwordIsValid()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,fe(n,r);case 7:t(),this.props.history.push("/features/schedule"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),409===e.t0.response.status?this.setState({emailIsTaken:!0}):500===e.t0.response.status?this.setState({internalServerError:!0}):console.error("Unhandled error");case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(v.a,{className:"auth-header",color:"primary",variant:"h4",children:"Create a New Account"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)(X.a,{onChange:this.handleEmailChange,name:"email",className:"auth-txt-field",label:"Email",variant:"filled",error:this.emailHasError()||this.state.emailIsTaken,helperText:this.getEmailHelperText()}),Object(n.jsx)(Pe,{inputProps:{maxLength:32},onChange:this.handlePasswordChange,className:"auth-txt-field",label:"Password",error:this.passwordHasError(),helperText:this.getPasswordHelperText()}),Object(n.jsx)(Ce,{children:function(t){return Object(n.jsx)(W.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Register"})}}),Object(n.jsx)(G.a,{className:"auth-err ".concat(this.hasInternalServerError()?"":"display-none"),error:!0,children:"Uh-oh! A problem occured. Please refresh the page and try again."}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/login",children:Object(n.jsx)(W.a,{className:"already-registered-btn non-important-btn",color:"primary",children:"Already Have an Account?"})})})]})]})})}}]),a}(s.a.Component)),Me=function(e,t){return Z.a.post("/api/users/sendresetcode",{email:e,selectedContactMethod:t})},He=function(e,t){return Z.a.get("/api/users/checkresetcode",{params:{email:e,resetCode:t}})},Ue=function(e,t,a){return Z.a.post("/api/users/changepassword",{email:e,password:t,resetCode:a})};a(209);!function(e){e[e.ACCOUNT_NOT_FOUND=0]="ACCOUNT_NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(Fe||(Fe={}));var ze,We=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={contact:"",searchAccountFailureType:Fe.NONE,submitIsTouched:!1},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handleContactChange=n.handleContactChange.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleContactChange",value:function(e){var t=e.target.value;this.setState({contact:t})}},{key:"contactHasError",value:function(){var e=this.state,t=e.submitIsTouched;return 0===e.contact.length&&t}},{key:"handleSubmit",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.contact,this.setState({submitIsTouched:!0}),0!==a.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,t=a,Z.a.get("/api/users/findaccount/".concat(t));case 7:return e.next=9,e.sent.data.contactInformation;case 9:n=e.sent,console.log("contactInfo",n),this.setState({searchAccountFailureType:Fe.NONE,submitIsTouched:!1}),this.props.history.push("/pickresetmethod?email=".concat(n.email,"&phone=").concat(n.phone)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),404===e.t0.response.status?this.setState({searchAccountFailureType:Fe.ACCOUNT_NOT_FOUND}):500===e.t0.response.status&&this.setState({searchAccountFailureType:Fe.INTERNAL_SERVER_ERROR});case 18:case"end":return e.stop()}var t}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"displayFormError",value:function(){return this.state.searchAccountFailureType!==Fe.NONE}},{key:"getFormErrorText",value:function(){return this.state.searchAccountFailureType===Fe.ACCOUNT_NOT_FOUND?"We couldnt find an account with that contact information.":this.state.searchAccountFailureType===Fe.INTERNAL_SERVER_ERROR?"Internal error. Refresh the page.":""}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(v.a,{className:"auth-header",color:"primary",variant:"h4",children:"Find Account"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)(G.a,{className:"forgot-pw-desc",children:"Enter your email or phone number to search for your account."}),Object(n.jsx)(X.a,{onChange:this.handleContactChange,className:"auth-txt-field",label:"Email or Phone",variant:"filled",error:this.contactHasError(),helperText:"Enter your email or phone number"}),Object(n.jsx)(W.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Search"}),Object(n.jsx)(G.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()})]}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/login",children:Object(n.jsx)(W.a,{className:"find-email-btn non-important-btn",color:"primary",children:"Cancel"})})})]})})}}]),a}(s.a.Component),Be=a(155),Je=a(264),Xe=a(66),Ye=a.n(Xe);a(212);!function(e){e[e.ACCOUNT_NOT_FOUND=0]="ACCOUNT_NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(ze||(ze={}));var Ze,Qe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(d.a)(this,a),n=t.call(this,e);var r="",s="";return Ye.a.parse(n.props.location.search,{ignoreQueryPrefix:!0})&&(r=Ye.a.parse(n.props.location.search,{ignoreQueryPrefix:!0}).email,s=Ye.a.parse(n.props.location.search,{ignoreQueryPrefix:!0}).phone),n.state={email:r,selectedContactMethod:"email",phone:s,pickResetMethodFailureType:ze.NONE},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handleChange=n.handleChange.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){this.setState({selectedContactMethod:e.target.value})}},{key:"displayFormError",value:function(){return this.state.pickResetMethodFailureType!==ze.NONE}},{key:"getFormErrorText",value:function(){return this.state.pickResetMethodFailureType===ze.ACCOUNT_NOT_FOUND?"We couldnt find that email.":this.state.pickResetMethodFailureType===ze.INTERNAL_SERVER_ERROR?"Internal error. Refresh the page.":""}},{key:"handleSubmit",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.state,n=a.email,r=a.phone,s=a.selectedContactMethod,this.setState({pickResetMethodFailureType:ze.NONE}),e.next=5,Me(n,s);case 5:this.props.history.push("/entercode?email=".concat(n,"&phone=").concat(r,"&selectedContactMethod=").concat(s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),404===e.t0.response.status?this.setState({pickResetMethodFailureType:ze.ACCOUNT_NOT_FOUND}):500===e.t0.response.status&&this.setState({pickResetMethodFailureType:ze.INTERNAL_SERVER_ERROR});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.email,a=e.phone,r=Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"contact",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"contact-method",children:"Send Code Via Email"}),Object(n.jsx)("div",{className:"contact-detail",children:this.state.email})]}),Object(n.jsx)("div",{className:"radio-container",children:Object(n.jsx)(Je.a,{color:"primary",checked:"email"===this.state.selectedContactMethod,onChange:this.handleChange,value:"email"})})]}),Object(n.jsx)(Oe.a,{className:"contact-divider"})]}),s=Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"contact",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"contact-method",children:"Send Code Via SMS"}),Object(n.jsx)("div",{className:"contact-detail",children:this.state.phone})]}),Object(n.jsx)("div",{className:"radio-container",children:Object(n.jsx)(Je.a,{color:"primary",checked:"phone"===this.state.selectedContactMethod,onChange:this.handleChange,value:"phone"})})]}),Object(n.jsx)(Oe.a,{className:"contact-divider"})]});return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(v.a,{className:"auth-header",color:"primary",variant:"h4",children:"Pick Reset Method"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsxs)(Be.a,{elevation:1,className:"find-account-icon-container",children:[Object(n.jsx)(x.a,{color:"primary",className:"find-account-icon"}),Object(n.jsx)("div",{children:this.state.email})]}),Object(n.jsx)("div",{className:"auth-instructions desktop-only",children:"Select how you would like to recieve the code to reset your password."}),Object(n.jsx)(Oe.a,{className:"contact-divider"}),t&&r,a&&s,Object(n.jsx)(W.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Send Code"}),Object(n.jsx)(G.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:!0,children:this.getFormErrorText()})]}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/findaccount",children:Object(n.jsx)(W.a,{className:"find-email-btn non-important-btn",color:"primary",children:"Not You?"})})})]})})}}]),a}(s.a.Component);a(213);!function(e){e[e.NONE=0]="NONE",e[e.INVALID_PASSCODE=1]="INVALID_PASSCODE",e[e.CODE_EXPIRED=2]="CODE_EXPIRED",e[e.TOO_MANY_ATTEMPTS=3]="TOO_MANY_ATTEMPTS",e[e.INTERNAL_SERVER_ERROR=4]="INTERNAL_SERVER_ERROR",e[e.RESENT_CODE=5]="RESENT_CODE"}(Ze||(Ze={}));var qe,Ke=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(d.a)(this,a),n=t.call(this,e);var r="",s="",i="",c=Ye.a.parse(n.props.location.search,{ignoreQueryPrefix:!0});return c&&(r=c.selectedContactMethod,s=c.email,"phone"===r&&(i=c.phone)),n.state={selectedContactMethod:r,email:s,phone:i,submitIsTouched:!1,code:"",enterCodeStatusType:Ze.NONE},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handleCodeChange=n.handleCodeChange.bind(Object(P.a)(n)),n.resendCodeClicked=n.resendCodeClicked.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handleCodeChange",value:function(e){var t=e.target.value;this.setState({code:t})}},{key:"getCodeHelperText",value:function(){if(this.displayCodeTextFieldError())return"Code must be 8 digits";var e=this.state.selectedContactMethod;return"Enter the 8 digit code sent to your ".concat(e,".")}},{key:"codeIsValid",value:function(){return 8===this.state.code.length}},{key:"displayCodeTextFieldError",value:function(){var e=this.state,t=e.submitIsTouched;e.code;return!!t&&!this.codeIsValid()}},{key:"handleSubmit",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({submitIsTouched:!0}),this.codeIsValid()){e.next=3;break}return e.abrupt("return");case 3:return a=this.state,n=a.email,r=a.code,a.selectedContactMethod,a.phone,e.prev=4,e.next=7,He(n,r);case 7:this.setState({enterCodeStatusType:Ze.NONE}),this.props.history.push("/resetpassword?email=".concat(n,"&code=").concat(r)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("error",e.t0),401===e.t0.response.status?"Invalid email/passcode combination"===e.t0.response.data.message?this.setState({enterCodeStatusType:Ze.INVALID_PASSCODE}):"Reset code has expired"===e.t0.response.data.message?this.setState({enterCodeStatusType:Ze.CODE_EXPIRED}):"Too many failed attempts"===e.t0.response.data.message&&this.setState({enterCodeStatusType:Ze.TOO_MANY_ATTEMPTS}):this.setState({enterCodeStatusType:Ze.INTERNAL_SERVER_ERROR});case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"displayFormHelperText",value:function(){return this.state.enterCodeStatusType!==Ze.NONE}},{key:"getFormHelperText",value:function(){var e=this.state,t=e.enterCodeStatusType,a=e.selectedContactMethod,n=e.email,r=e.phone;return t===Ze.INVALID_PASSCODE?"Wrong code, try again.":t===Ze.CODE_EXPIRED?"This code has expired.":t===Ze.TOO_MANY_ATTEMPTS?"Too many failed attempts.":t===Ze.INTERNAL_SERVER_ERROR?"Internal server error. Please refresh the page and try again.":t===Ze.RESENT_CODE?"Another code has been sent to ".concat("email"===a?n:r):""}},{key:"formHelperTextIsError",value:function(){return this.state.enterCodeStatusType!==Ze.RESENT_CODE}},{key:"displayResendCodeLink",value:function(){var e=this.state.enterCodeStatusType;return e===Ze.TOO_MANY_ATTEMPTS||e===Ze.CODE_EXPIRED}},{key:"resendCodeClicked",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.email,r=a.selectedContactMethod,e.prev=1,e.next=4,Me(n,r);case 4:this.setState({enterCodeStatusType:Ze.RESENT_CODE}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({enterCodeStatusType:Ze.INTERNAL_SERVER_ERROR});case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.selectedContactMethod,a=e.phone,r=e.email,s="email"===t?r:a;return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(v.a,{className:"auth-header",color:"primary",variant:"h4",children:"Enter Security Code"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsxs)("div",{className:"auth-instructions desktop-only",children:["Please check your ",t," for the 8 digit code that was sent to ",s,"."]}),Object(n.jsx)(X.a,{onChange:this.handleCodeChange,className:"auth-txt-field",label:"########",variant:"filled",helperText:this.getCodeHelperText(),error:this.displayCodeTextFieldError()}),Object(n.jsx)(W.a,{onClick:this.handleSubmit,className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Enter Code"}),Object(n.jsxs)(G.a,{className:"auth-err ".concat(this.displayFormHelperText()?"":"display-none"),error:this.formHelperTextIsError(),children:[this.getFormHelperText(),Object(n.jsx)("span",{className:"resend-code ".concat(this.displayResendCodeLink()?"":"display-none"),onClick:this.resendCodeClicked,children:"Resend Code?"})]})]}),Object(n.jsx)("div",{className:"non-important-btns-container",children:Object(n.jsx)(o.b,{className:"no-underline",to:"/pickresetmethod?email=".concat(r,"&phone=").concat(a),children:Object(n.jsx)(W.a,{className:"enter-code-btn non-important-btn",color:"primary",children:"Try Another Way"})})})]})})}}]),a}(s.a.Component),$e=a(150),Ge=a.n($e);a(214);!function(e){e[e.PASSWORD_EXPIRED=0]="PASSWORD_EXPIRED",e[e.INTERNAL_SERVER_ERROR=1]="INTERNAL_SERVER_ERROR",e[e.NONE=2]="NONE"}(qe||(qe={}));var et=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(d.a)(this,a),n=t.call(this,e);var r=Ye.a.parse(n.props.location.search,{ignoreQueryPrefix:!0}),s="",i="";return r&&(s=r.code,i=r.email),n.state={code:s,email:i,password:"",resetPasswordFailureType:qe.NONE,submitButtonTouched:!1,passwordChangeSuccess:!1},n.handleSubmit=n.handleSubmit.bind(Object(P.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(P.a)(n)),n}return Object(h.a)(a,[{key:"handlePasswordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"displayPasswordError",value:function(){return!this.passwordIsValid()&&this.state.submitButtonTouched}},{key:"passwordHasCorrectLength",value:function(){var e=this.state.password;return e.length>=8&&e.length<=32}},{key:"passwordHasCorrectCharacters",value:function(){var e=this.state.password;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,32}$/.test(e)}},{key:"passwordIsValid",value:function(){return this.passwordHasCorrectCharacters()&&this.passwordHasCorrectLength()}},{key:"getPasswordHelperText",value:function(){var e=this.state.submitButtonTouched;return!this.passwordHasCorrectLength()&&e?"Enter between 8 and 32 characters":!this.passwordHasCorrectCharacters()&&e?"Include a letter, number, and special character":"Enter your new password"}},{key:"displayFormError",value:function(){return this.state.resetPasswordFailureType!==qe.NONE}},{key:"getFormErrorText",value:function(){var e=this.state.resetPasswordFailureType;return e===qe.PASSWORD_EXPIRED?"This reset code has expired.":e===qe.INTERNAL_SERVER_ERROR?"Internal server error. Please refresh the page and try again.":""}},{key:"handleSubmit",value:function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r,s,i=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.email,r=a.password,s=a.code,this.setState({submitButtonTouched:!0}),this.passwordIsValid()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Ue(n,r,s);case 7:this.setState({resetPasswordFailureType:qe.NONE,passwordChangeSuccess:!0}),t(),setTimeout((function(){i.props.history.push("/features/schedule")}),500),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),401===e.t0.response.status&&"Reset code has expired"===e.t0.response.data.message?(this.setState({resetPasswordFailureType:qe.PASSWORD_EXPIRED}),console.log("error.response.data",e.t0.response.data)):this.setState({resetPasswordFailureType:qe.INTERNAL_SERVER_ERROR});case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.passwordChangeSuccess;return Object(n.jsx)("div",{className:"auth-page-container",children:Object(n.jsxs)("div",{className:"auth-page",children:[Object(n.jsx)(v.a,{className:"auth-header",color:"primary",variant:"h4",children:"Reset Password"}),Object(n.jsxs)("form",{className:"auth-form",children:[Object(n.jsx)("div",{className:"auth-instructions desktop-only",children:"Enter a new password between 8 and 32 characters. Include at least one uppercase letter, lowercase letter, number, and special character. "}),Object(n.jsx)(Pe,{onChange:this.handlePasswordChange,inputProps:{maxLength:32},className:"auth-txt-field",error:this.displayPasswordError(),helperText:this.getPasswordHelperText(),label:"New Password"}),Object(n.jsx)(Ce,{children:function(t){return Object(n.jsx)(W.a,{onClick:function(a){return e.handleSubmit(t.login)},className:"auth-btn",variant:"contained",color:"primary",size:"medium",children:"Change Password"})}}),Object(n.jsx)(G.a,{className:"auth-err ".concat(this.displayFormError()?"":"display-none"),error:this.displayFormError(),children:this.getFormErrorText()}),Object(n.jsxs)("div",{className:"change-pw-success ".concat(t?"":"display-none"),children:[Object(n.jsx)("div",{className:"change-pw-success-txt",children:"Password Changed"}),Object(n.jsx)(Ge.a,{color:"primary"})]})]})]})})}}]),a}(s.a.Component),tt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.options,r=t.component,s=t.children;return Object(n.jsx)(Ce,{children:function(t){return t.isLoggedIn?Object(n.jsx)(l.b,Object(we.a)(Object(we.a)({path:e.props.path},a),{},{component:t.isLoggedIn?r:Le,children:s})):Object(n.jsx)(l.a,{to:"/login"})}})}}]),a}(s.a.Component);a(215);var at=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/register",component:Ve}),Object(n.jsx)(l.b,{exact:!0,path:"/login",component:Le}),Object(n.jsx)(l.b,{exact:!0,path:"/findaccount",component:We}),Object(n.jsx)(l.b,{exact:!0,path:"/pickresetmethod",component:Qe}),Object(n.jsx)(l.b,{exact:!0,path:"/entercode",component:Ke}),Object(n.jsx)(l.b,{exact:!0,path:"/resetpassword",component:et}),Object(n.jsx)(l.b,{exact:!0,path:"/",component:Re}),Object(n.jsx)(tt,{path:"/features",children:Object(n.jsxs)(R,{children:[Object(n.jsx)(l.b,{path:"/features/schedule",component:ve}),Object(n.jsx)(l.b,{path:"/features/homelesspeople",component:w}),Object(n.jsx)(l.b,{path:"/features/prayerrequests",component:j}),Object(n.jsx)(l.b,{path:"/features/map",component:A}),Object(n.jsx)(l.b,{path:"/features/accountsettings",component:Se})]})})]})})},nt=a(263),rt=a(153),st=a(266),it=a(152),ct=a.n(it),ot=a(151),lt=a.n(ot),dt=Object(rt.a)({palette:{primary:lt.a,secondary:ct.a},status:{danger:"red"}}),ht=dt=Object(st.a)(dt);c.a.render(Object(n.jsx)(Te,{children:Object(n.jsx)(nt.a,{theme:ht,children:Object(n.jsx)(at,{})})}),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.62824ece.chunk.js.map